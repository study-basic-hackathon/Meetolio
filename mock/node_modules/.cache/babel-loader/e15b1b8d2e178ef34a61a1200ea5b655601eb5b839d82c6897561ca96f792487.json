{"ast":null,"code":"var _jsxFileName = \"/Users/takahiro/Dev/webhack/src/pages/BusinessCardDesign.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Stage, Layer, Rect, Text, Transformer } from \"react-konva\";\nimport \"./BusinessCardDesign.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BusinessCardDesign = () => {\n  _s();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentSide, setCurrentSide] = useState('front');\n  const [frontDesign, setFrontDesign] = useState(null);\n  const [backDesign, setBackDesign] = useState(null);\n  const [textElements, setTextElements] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n  const [editingText, setEditingText] = useState(\"\");\n  const [fontSize, setFontSize] = useState(16);\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  const transformerRef = useRef(null);\n  const stageRef = useRef(null);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n      return;\n    }\n\n    // モックプロフィールデータを取得\n    const mockProfile = {\n      id: \"1\",\n      userId: (user === null || user === void 0 ? void 0 : user.id) || \"1\",\n      company: \"テック株式会社\",\n      jobTitle: \"フロントエンドエンジニア\",\n      bio: \"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",\n      skills: [\"React\", \"TypeScript\", \"Node.js\", \"CSS\", \"HTML\", \"JavaScript\", \"Git\", \"AWS\"],\n      interests: [\"プログラミング\", \"読書\", \"旅行\", \"料理\", \"音楽\"],\n      contactInfo: {\n        email: \"taro.tech@example.com\",\n        phone: \"090-1234-5678\",\n        sns: {\n          twitter: \"taro_tech\",\n          linkedin: \"taro-tech\",\n          github: \"taro-tech\",\n          instagram: \"taro_tech_dev\"\n        },\n        website: \"https://taro-tech.dev\"\n      },\n      isPublic: true,\n      createdAt: new Date(\"2024-01-01\"),\n      updatedAt: new Date()\n    };\n    setProfile(mockProfile);\n    setIsLoading(false);\n  }, [isAuthenticated, user, navigate]);\n\n  // 初期テキスト要素を設定\n  useEffect(() => {\n    if (profile) {\n      const initialTexts = currentSide === 'front' ? [{\n        id: 'company',\n        text: profile.company || \"会社名\",\n        x: 200,\n        y: 60,\n        fontSize: 18,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: 'jobTitle',\n        text: profile.jobTitle || \"役職\",\n        x: 200,\n        y: 90,\n        fontSize: 14,\n        fontFamily: \"Arial\",\n        fill: \"#666666\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: 'name',\n        text: (user === null || user === void 0 ? void 0 : user.name) || \"氏名\",\n        x: 200,\n        y: 120,\n        fontSize: 16,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }] : [{\n        id: 'email',\n        text: profile.contactInfo.email || \"メールアドレス\",\n        x: 200,\n        y: 80,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: 'phone',\n        text: profile.contactInfo.phone || \"電話番号\",\n        x: 200,\n        y: 110,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: 'website',\n        text: profile.contactInfo.website || \"ウェブサイト\",\n        x: 200,\n        y: 140,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }];\n      setTextElements(initialTexts);\n    }\n  }, [profile, currentSide, user]);\n\n  // 選択された要素のTransformerを更新\n  useEffect(() => {\n    if (selectedId && transformerRef.current) {\n      var _stageRef$current;\n      const node = (_stageRef$current = stageRef.current) === null || _stageRef$current === void 0 ? void 0 : _stageRef$current.findOne(`#${selectedId}`);\n      if (node) {\n        var _transformerRef$curre;\n        transformerRef.current.nodes([node]);\n        (_transformerRef$curre = transformerRef.current.getLayer()) === null || _transformerRef$curre === void 0 ? void 0 : _transformerRef$curre.batchDraw();\n      }\n    }\n  }, [selectedId]);\n  const handleTextClick = id => {\n    setSelectedId(id);\n    const element = textElements.find(el => el.id === id);\n    if (element) {\n      setEditingText(element.text);\n    }\n  };\n  const handleTextEdit = (id, newText) => {\n    setTextElements(prev => prev.map(el => el.id === id ? {\n      ...el,\n      text: newText\n    } : el));\n    setEditingText(\"\");\n  };\n  const handleTextUpdate = (id, updates) => {\n    setTextElements(prev => prev.map(el => el.id === id ? {\n      ...el,\n      ...updates\n    } : el));\n  };\n  const handleAddText = () => {\n    const newText = {\n      id: `text-${Date.now()}`,\n      text: \"新しいテキスト\",\n      x: 100,\n      y: 100,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      fill: textColor,\n      width: 200,\n      align: \"left\",\n      draggable: true\n    };\n    setTextElements(prev => [...prev, newText]);\n    setSelectedId(newText.id);\n  };\n  const handleDeleteText = () => {\n    if (selectedId) {\n      setTextElements(prev => prev.filter(el => el.id !== selectedId));\n      setSelectedId(null);\n    }\n  };\n  const handleSave = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      console.log(\"名刺デザインを保存しました\");\n      console.log(\"表面デザイン:\", frontDesign);\n      console.log(\"裏面デザイン:\", backDesign);\n      navigate(\"/business-card/edit\");\n    } catch (error) {\n      console.error(\"名刺デザインの保存に失敗しました:\", error);\n    }\n  };\n  const handleCancel = () => {\n    navigate(\"/business-card/edit\");\n  };\n  const handleExportImage = () => {\n    if (stageRef.current) {\n      const dataURL = stageRef.current.toDataURL();\n      const link = document.createElement('a');\n      link.download = `business-card-${currentSide}.png`;\n      link.href = dataURL;\n      link.click();\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"business-card-design\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this);\n  }\n  if (!profile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"business-card-design\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"business-card-design\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"design-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u540D\\u523A\\u30C7\\u30B6\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u540D\\u523A\\u306E\\u8868\\u9762\\u30FB\\u88CF\\u9762\\u3092\\u30C7\\u30B6\\u30A4\\u30F3\\u3067\\u304D\\u307E\\u3059\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"design-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `side-tab ${currentSide === 'front' ? 'active' : ''}`,\n            onClick: () => setCurrentSide('front'),\n            children: \"\\u8868\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `side-tab ${currentSide === 'back' ? 'active' : ''}`,\n            onClick: () => setCurrentSide('back'),\n            children: \"\\u88CF\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"design-workspace\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"editor-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"editor-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(Stage, {\n                ref: stageRef,\n                width: 400,\n                height: 242,\n                onMouseDown: e => {\n                  if (e.target === e.target.getStage()) {\n                    setSelectedId(null);\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Layer, {\n                  children: [/*#__PURE__*/_jsxDEV(Rect, {\n                    x: 0,\n                    y: 0,\n                    width: 400,\n                    height: 242,\n                    fill: \"#ffffff\",\n                    stroke: \"#e5e7eb\",\n                    strokeWidth: 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this), textElements.map(element => /*#__PURE__*/_jsxDEV(Text, {\n                    id: element.id,\n                    text: element.text,\n                    x: element.x,\n                    y: element.y,\n                    fontSize: element.fontSize,\n                    fontFamily: element.fontFamily,\n                    fill: element.fill,\n                    align: element.align,\n                    width: element.width,\n                    draggable: element.draggable,\n                    onClick: () => handleTextClick(element.id),\n                    onTap: () => handleTextClick(element.id),\n                    onDragEnd: e => {\n                      handleTextUpdate(element.id, {\n                        x: e.target.x(),\n                        y: e.target.y()\n                      });\n                    }\n                  }, element.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 23\n                  }, this)), /*#__PURE__*/_jsxDEV(Transformer, {\n                    ref: transformerRef\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"design-tools\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u7DE8\\u96C6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), selectedId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-editor\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingText,\n                  onChange: e => setEditingText(e.target.value),\n                  onBlur: () => handleTextEdit(selectedId, editingText),\n                  onKeyPress: e => {\n                    if (e.key === 'Enter') {\n                      handleTextEdit(selectedId, editingText);\n                    }\n                  },\n                  placeholder: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u3092\\u5165\\u529B\",\n                  className: \"text-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30D5\\u30A9\\u30F3\\u30C8\\u8A2D\\u5B9A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"\\u30D5\\u30A9\\u30F3\\u30C8\\u30B5\\u30A4\\u30BA:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"8\",\n                    max: \"48\",\n                    value: fontSize,\n                    onChange: e => {\n                      setFontSize(Number(e.target.value));\n                      if (selectedId) {\n                        handleTextUpdate(selectedId, {\n                          fontSize: Number(e.target.value)\n                        });\n                      }\n                    },\n                    className: \"font-size-slider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [fontSize, \"px\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"\\u30D5\\u30A9\\u30F3\\u30C8:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: fontFamily,\n                    onChange: e => {\n                      setFontFamily(e.target.value);\n                      if (selectedId) {\n                        handleTextUpdate(selectedId, {\n                          fontFamily: e.target.value\n                        });\n                      }\n                    },\n                    className: \"font-family-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Arial\",\n                      children: \"Arial\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Helvetica\",\n                      children: \"Helvetica\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Times New Roman\",\n                      children: \"Times New Roman\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Georgia\",\n                      children: \"Georgia\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Verdana\",\n                      children: \"Verdana\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"\\u8272:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"color\",\n                    value: textColor,\n                    onChange: e => {\n                      setTextColor(e.target.value);\n                      if (selectedId) {\n                        handleTextUpdate(selectedId, {\n                          fill: e.target.value\n                        });\n                      }\n                    },\n                    className: \"color-picker\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30A2\\u30AF\\u30B7\\u30E7\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  onClick: handleAddText,\n                  children: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u8FFD\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this), selectedId && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger\",\n                  onClick: handleDeleteText,\n                  children: \"\\u524A\\u9664\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success\",\n                  onClick: handleExportImage,\n                  children: \"\\u753B\\u50CF\\u3068\\u3057\\u3066\\u4FDD\\u5B58\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"design-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: handleCancel,\n            children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handleSave,\n            children: \"\\u30C7\\u30B6\\u30A4\\u30F3\\u3092\\u4FDD\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s(BusinessCardDesign, \"M7zRwjJLzQKQZpjOE3lBLH+u1f8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = BusinessCardDesign;\nexport default BusinessCardDesign;\nvar _c;\n$RefreshReg$(_c, \"BusinessCardDesign\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useAuth","Stage","Layer","Rect","Text","Transformer","jsxDEV","_jsxDEV","BusinessCardDesign","_s","user","isAuthenticated","navigate","profile","setProfile","isLoading","setIsLoading","currentSide","setCurrentSide","frontDesign","setFrontDesign","backDesign","setBackDesign","textElements","setTextElements","selectedId","setSelectedId","editingText","setEditingText","fontSize","setFontSize","textColor","setTextColor","fontFamily","setFontFamily","transformerRef","stageRef","mockProfile","id","userId","company","jobTitle","bio","skills","interests","contactInfo","email","phone","sns","twitter","linkedin","github","instagram","website","isPublic","createdAt","Date","updatedAt","initialTexts","text","x","y","fill","width","align","draggable","name","current","_stageRef$current","node","findOne","_transformerRef$curre","nodes","getLayer","batchDraw","handleTextClick","element","find","el","handleTextEdit","newText","prev","map","handleTextUpdate","updates","handleAddText","now","handleDeleteText","filter","handleSave","Promise","resolve","setTimeout","console","log","error","handleCancel","handleExportImage","dataURL","toDataURL","link","document","createElement","download","href","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","height","onMouseDown","e","target","getStage","stroke","strokeWidth","onTap","onDragEnd","type","value","onChange","onBlur","onKeyPress","key","placeholder","min","max","Number","_c","$RefreshReg$"],"sources":["/Users/takahiro/Dev/webhack/src/pages/BusinessCardDesign.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Profile } from \"../types\";\nimport { Stage, Layer, Rect, Text, Transformer } from \"react-konva\";\nimport Konva from \"konva\";\nimport \"./BusinessCardDesign.css\";\n\ninterface TextElement {\n  id: string;\n  text: string;\n  x: number;\n  y: number;\n  fontSize: number;\n  fontFamily: string;\n  fill: string;\n  width: number;\n  align: string;\n  draggable: boolean;\n}\n\nconst BusinessCardDesign: React.FC = () => {\n  const { user, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentSide, setCurrentSide] = useState<'front' | 'back'>('front');\n  const [frontDesign, setFrontDesign] = useState<any>(null);\n  const [backDesign, setBackDesign] = useState<any>(null);\n  const [textElements, setTextElements] = useState<TextElement[]>([]);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [editingText, setEditingText] = useState<string>(\"\");\n  const [fontSize, setFontSize] = useState(16);\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  \n  const transformerRef = useRef<Konva.Transformer>(null);\n  const stageRef = useRef<Konva.Stage>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n      return;\n    }\n\n    // モックプロフィールデータを取得\n    const mockProfile: Profile = {\n      id: \"1\",\n      userId: user?.id || \"1\",\n      company: \"テック株式会社\",\n      jobTitle: \"フロントエンドエンジニア\",\n      bio: \"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",\n      skills: [\n        \"React\",\n        \"TypeScript\",\n        \"Node.js\",\n        \"CSS\",\n        \"HTML\",\n        \"JavaScript\",\n        \"Git\",\n        \"AWS\",\n      ],\n      interests: [\"プログラミング\", \"読書\", \"旅行\", \"料理\", \"音楽\"],\n      contactInfo: {\n        email: \"taro.tech@example.com\",\n        phone: \"090-1234-5678\",\n        sns: {\n          twitter: \"taro_tech\",\n          linkedin: \"taro-tech\",\n          github: \"taro-tech\",\n          instagram: \"taro_tech_dev\",\n        },\n        website: \"https://taro-tech.dev\",\n      },\n      isPublic: true,\n      createdAt: new Date(\"2024-01-01\"),\n      updatedAt: new Date(),\n    };\n\n    setProfile(mockProfile);\n    setIsLoading(false);\n  }, [isAuthenticated, user, navigate]);\n\n  // 初期テキスト要素を設定\n  useEffect(() => {\n    if (profile) {\n      const initialTexts: TextElement[] = currentSide === 'front' ? [\n        {\n          id: 'company',\n          text: profile.company || \"会社名\",\n          x: 200,\n          y: 60,\n          fontSize: 18,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'jobTitle',\n          text: profile.jobTitle || \"役職\",\n          x: 200,\n          y: 90,\n          fontSize: 14,\n          fontFamily: \"Arial\",\n          fill: \"#666666\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'name',\n          text: user?.name || \"氏名\",\n          x: 200,\n          y: 120,\n          fontSize: 16,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        }\n      ] : [\n        {\n          id: 'email',\n          text: profile.contactInfo.email || \"メールアドレス\",\n          x: 200,\n          y: 80,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'phone',\n          text: profile.contactInfo.phone || \"電話番号\",\n          x: 200,\n          y: 110,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'website',\n          text: profile.contactInfo.website || \"ウェブサイト\",\n          x: 200,\n          y: 140,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        }\n      ];\n      \n      setTextElements(initialTexts);\n    }\n  }, [profile, currentSide, user]);\n\n  // 選択された要素のTransformerを更新\n  useEffect(() => {\n    if (selectedId && transformerRef.current) {\n      const node = stageRef.current?.findOne(`#${selectedId}`);\n      if (node) {\n        transformerRef.current.nodes([node]);\n        transformerRef.current.getLayer()?.batchDraw();\n      }\n    }\n  }, [selectedId]);\n\n\n\n  const handleTextClick = (id: string) => {\n    setSelectedId(id);\n    const element = textElements.find(el => el.id === id);\n    if (element) {\n      setEditingText(element.text);\n    }\n  };\n\n  const handleTextEdit = (id: string, newText: string) => {\n    setTextElements(prev => \n      prev.map(el => \n        el.id === id ? { ...el, text: newText } : el\n      )\n    );\n    setEditingText(\"\");\n  };\n\n  const handleTextUpdate = (id: string, updates: Partial<TextElement>) => {\n    setTextElements(prev => \n      prev.map(el => \n        el.id === id ? { ...el, ...updates } : el\n      )\n    );\n  };\n\n  const handleAddText = () => {\n    const newText: TextElement = {\n      id: `text-${Date.now()}`,\n      text: \"新しいテキスト\",\n      x: 100,\n      y: 100,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      fill: textColor,\n      width: 200,\n      align: \"left\",\n      draggable: true,\n    };\n    setTextElements(prev => [...prev, newText]);\n    setSelectedId(newText.id);\n  };\n\n  const handleDeleteText = () => {\n    if (selectedId) {\n      setTextElements(prev => prev.filter(el => el.id !== selectedId));\n      setSelectedId(null);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      console.log(\"名刺デザインを保存しました\");\n      console.log(\"表面デザイン:\", frontDesign);\n      console.log(\"裏面デザイン:\", backDesign);\n      navigate(\"/business-card/edit\");\n    } catch (error) {\n      console.error(\"名刺デザインの保存に失敗しました:\", error);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(\"/business-card/edit\");\n  };\n\n  const handleExportImage = () => {\n    if (stageRef.current) {\n      const dataURL = stageRef.current.toDataURL();\n      const link = document.createElement('a');\n      link.download = `business-card-${currentSide}.png`;\n      link.href = dataURL;\n      link.click();\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"loading\">読み込み中...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"error\">プロフィールが見つかりません</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"business-card-design\">\n      <div className=\"container\">\n        <div className=\"design-header\">\n          <h1>名刺デザイン</h1>\n          <p>名刺の表面・裏面をデザインできます</p>\n        </div>\n\n        <div className=\"design-container\">\n          {/* サイド選択タブ */}\n          <div className=\"side-tabs\">\n            <button\n              className={`side-tab ${currentSide === 'front' ? 'active' : ''}`}\n              onClick={() => setCurrentSide('front')}\n            >\n              表面\n            </button>\n            <button\n              className={`side-tab ${currentSide === 'back' ? 'active' : ''}`}\n              onClick={() => setCurrentSide('back')}\n            >\n              裏面\n            </button>\n          </div>\n\n          <div className=\"design-workspace\">\n            {/* デザインエディター */}\n            <div className=\"editor-container\">\n              <div className=\"editor-wrapper\">\n                <Stage\n                  ref={stageRef}\n                  width={400}\n                  height={242}\n                  onMouseDown={(e) => {\n                    if (e.target === e.target.getStage()) {\n                      setSelectedId(null);\n                    }\n                  }}\n                >\n                  <Layer>\n                    {/* 背景 */}\n                    <Rect\n                      x={0}\n                      y={0}\n                      width={400}\n                      height={242}\n                      fill=\"#ffffff\"\n                      stroke=\"#e5e7eb\"\n                      strokeWidth={1}\n                    />\n                    \n                    {/* テキスト要素 */}\n                    {textElements.map((element) => (\n                      <Text\n                        key={element.id}\n                        id={element.id}\n                        text={element.text}\n                        x={element.x}\n                        y={element.y}\n                        fontSize={element.fontSize}\n                        fontFamily={element.fontFamily}\n                        fill={element.fill}\n                        align={element.align as any}\n                        width={element.width}\n                        draggable={element.draggable}\n                        onClick={() => handleTextClick(element.id)}\n                        onTap={() => handleTextClick(element.id)}\n                        onDragEnd={(e) => {\n                          handleTextUpdate(element.id, {\n                            x: e.target.x(),\n                            y: e.target.y()\n                          });\n                        }}\n                      />\n                    ))}\n                    \n                    {/* Transformer */}\n                    <Transformer ref={transformerRef} />\n                  </Layer>\n                </Stage>\n              </div>\n            </div>\n\n            {/* デザインツール */}\n            <div className=\"design-tools\">\n              <div className=\"tool-section\">\n                <h3>テキスト編集</h3>\n                {selectedId && (\n                  <div className=\"text-editor\">\n                    <input\n                      type=\"text\"\n                      value={editingText}\n                      onChange={(e) => setEditingText(e.target.value)}\n                      onBlur={() => handleTextEdit(selectedId, editingText)}\n                      onKeyPress={(e) => {\n                        if (e.key === 'Enter') {\n                          handleTextEdit(selectedId, editingText);\n                        }\n                      }}\n                      placeholder=\"テキストを入力\"\n                      className=\"text-input\"\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"tool-section\">\n                <h3>フォント設定</h3>\n                <div className=\"font-controls\">\n                  <label>\n                    フォントサイズ:\n                    <input\n                      type=\"range\"\n                      min=\"8\"\n                      max=\"48\"\n                      value={fontSize}\n                      onChange={(e) => {\n                        setFontSize(Number(e.target.value));\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fontSize: Number(e.target.value) });\n                        }\n                      }}\n                      className=\"font-size-slider\"\n                    />\n                    <span>{fontSize}px</span>\n                  </label>\n                  \n                  <label>\n                    フォント:\n                    <select\n                      value={fontFamily}\n                      onChange={(e) => {\n                        setFontFamily(e.target.value);\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fontFamily: e.target.value });\n                        }\n                      }}\n                      className=\"font-family-select\"\n                    >\n                      <option value=\"Arial\">Arial</option>\n                      <option value=\"Helvetica\">Helvetica</option>\n                      <option value=\"Times New Roman\">Times New Roman</option>\n                      <option value=\"Georgia\">Georgia</option>\n                      <option value=\"Verdana\">Verdana</option>\n                    </select>\n                  </label>\n                  \n                  <label>\n                    色:\n                    <input\n                      type=\"color\"\n                      value={textColor}\n                      onChange={(e) => {\n                        setTextColor(e.target.value);\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fill: e.target.value });\n                        }\n                      }}\n                      className=\"color-picker\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"tool-section\">\n                <h3>アクション</h3>\n                <div className=\"action-buttons\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={handleAddText}\n                  >\n                    テキスト追加\n                  </button>\n                  {selectedId && (\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-danger\"\n                      onClick={handleDeleteText}\n                    >\n                      削除\n                    </button>\n                  )}\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-success\"\n                    onClick={handleExportImage}\n                  >\n                    画像として保存\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* アクションボタン */}\n          <div className=\"design-actions\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={handleCancel}\n            >\n              キャンセル\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSave}\n            >\n              デザインを保存\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BusinessCardDesign;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}