{"ast":null,"code":"import _objectSpread from\"/Users/takahiro/Dev/webhack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useRef}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{Stage,Layer,Rect,Text,Transformer}from\"react-konva\";import\"./BusinessCardDesign.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BusinessCardDesign=()=>{const{user,isAuthenticated}=useAuth();const navigate=useNavigate();const[profile,setProfile]=useState(null);const[isLoading,setIsLoading]=useState(true);const[currentSide,setCurrentSide]=useState('front');const[frontDesign,setFrontDesign]=useState(null);const[backDesign,setBackDesign]=useState(null);const[textElements,setTextElements]=useState([]);const[selectedId,setSelectedId]=useState(null);const[editingText,setEditingText]=useState(\"\");const[isEditing,setIsEditing]=useState(false);const[fontSize,setFontSize]=useState(16);const[textColor,setTextColor]=useState(\"#000000\");const[fontFamily,setFontFamily]=useState(\"Arial\");const transformerRef=useRef(null);const stageRef=useRef(null);useEffect(()=>{if(!isAuthenticated){navigate(\"/login\");return;}// モックプロフィールデータを取得\nconst mockProfile={id:\"1\",userId:(user===null||user===void 0?void 0:user.id)||\"1\",company:\"テック株式会社\",jobTitle:\"フロントエンドエンジニア\",bio:\"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",skills:[\"React\",\"TypeScript\",\"Node.js\",\"CSS\",\"HTML\",\"JavaScript\",\"Git\",\"AWS\"],interests:[\"プログラミング\",\"読書\",\"旅行\",\"料理\",\"音楽\"],contactInfo:{email:\"taro.tech@example.com\",phone:\"090-1234-5678\",sns:{twitter:\"taro_tech\",linkedin:\"taro-tech\",github:\"taro-tech\",instagram:\"taro_tech_dev\"},website:\"https://taro-tech.dev\"},isPublic:true,createdAt:new Date(\"2024-01-01\"),updatedAt:new Date()};setProfile(mockProfile);setIsLoading(false);},[isAuthenticated,user,navigate]);// 初期テキスト要素を設定\nuseEffect(()=>{if(profile){const initialTexts=currentSide==='front'?[{id:'company',text:profile.company||\"会社名\",x:200,y:60,fontSize:18,fontFamily:\"Arial\",fill:\"#000000\",width:400,align:\"center\",draggable:true},{id:'jobTitle',text:profile.jobTitle||\"役職\",x:200,y:90,fontSize:14,fontFamily:\"Arial\",fill:\"#666666\",width:400,align:\"center\",draggable:true},{id:'name',text:(user===null||user===void 0?void 0:user.name)||\"氏名\",x:200,y:120,fontSize:16,fontFamily:\"Arial\",fill:\"#000000\",width:400,align:\"center\",draggable:true}]:[{id:'email',text:profile.contactInfo.email||\"メールアドレス\",x:200,y:80,fontSize:12,fontFamily:\"Arial\",fill:\"#000000\",width:400,align:\"center\",draggable:true},{id:'phone',text:profile.contactInfo.phone||\"電話番号\",x:200,y:110,fontSize:12,fontFamily:\"Arial\",fill:\"#000000\",width:400,align:\"center\",draggable:true},{id:'website',text:profile.contactInfo.website||\"ウェブサイト\",x:200,y:140,fontSize:12,fontFamily:\"Arial\",fill:\"#000000\",width:400,align:\"center\",draggable:true}];setTextElements(initialTexts);}},[profile,currentSide,user]);// 選択された要素のTransformerを更新\nuseEffect(()=>{if(selectedId&&transformerRef.current){var _stageRef$current;const node=(_stageRef$current=stageRef.current)===null||_stageRef$current===void 0?void 0:_stageRef$current.findOne(\"#\".concat(selectedId));if(node){var _transformerRef$curre;transformerRef.current.nodes([node]);(_transformerRef$curre=transformerRef.current.getLayer())===null||_transformerRef$curre===void 0?void 0:_transformerRef$curre.batchDraw();}}},[selectedId]);const handleDesignChange=useCallback(()=>{const currentDesign={side:currentSide,timestamp:new Date().toISOString(),profile:profile,textElements:textElements};if(currentSide==='front'){setFrontDesign(currentDesign);}else{setBackDesign(currentDesign);}},[currentSide,profile,textElements]);const handleTextClick=id=>{setSelectedId(id);const element=textElements.find(el=>el.id===id);if(element){setEditingText(element.text);setIsEditing(true);}};const handleTextEdit=(id,newText)=>{setTextElements(prev=>prev.map(el=>el.id===id?_objectSpread(_objectSpread({},el),{},{text:newText}):el));setIsEditing(false);setEditingText(\"\");};const handleTextUpdate=(id,updates)=>{setTextElements(prev=>prev.map(el=>el.id===id?_objectSpread(_objectSpread({},el),updates):el));};const handleAddText=()=>{const newText={id:\"text-\".concat(Date.now()),text:\"新しいテキスト\",x:100,y:100,fontSize:fontSize,fontFamily:fontFamily,fill:textColor,width:200,align:\"left\",draggable:true};setTextElements(prev=>[...prev,newText]);setSelectedId(newText.id);};const handleDeleteText=()=>{if(selectedId){setTextElements(prev=>prev.filter(el=>el.id!==selectedId));setSelectedId(null);}};const handleSave=async()=>{try{await new Promise(resolve=>setTimeout(resolve,1000));console.log(\"名刺デザインを保存しました\");console.log(\"表面デザイン:\",frontDesign);console.log(\"裏面デザイン:\",backDesign);navigate(\"/business-card/edit\");}catch(error){console.error(\"名刺デザインの保存に失敗しました:\",error);}};const handleCancel=()=>{navigate(\"/business-card/edit\");};const handleExportImage=()=>{if(stageRef.current){const dataURL=stageRef.current.toDataURL();const link=document.createElement('a');link.download=\"business-card-\".concat(currentSide,\".png\");link.href=dataURL;link.click();}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"business-card-design\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"})})});}if(!profile){return/*#__PURE__*/_jsx(\"div\",{className:\"business-card-design\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"business-card-design\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"design-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u540D\\u523A\\u30C7\\u30B6\\u30A4\\u30F3\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u540D\\u523A\\u306E\\u8868\\u9762\\u30FB\\u88CF\\u9762\\u3092\\u30C7\\u30B6\\u30A4\\u30F3\\u3067\\u304D\\u307E\\u3059\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"design-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"side-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"side-tab \".concat(currentSide==='front'?'active':''),onClick:()=>setCurrentSide('front'),children:\"\\u8868\\u9762\"}),/*#__PURE__*/_jsx(\"button\",{className:\"side-tab \".concat(currentSide==='back'?'active':''),onClick:()=>setCurrentSide('back'),children:\"\\u88CF\\u9762\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"design-workspace\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"editor-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"editor-wrapper\",children:/*#__PURE__*/_jsx(Stage,{ref:stageRef,width:400,height:242,onMouseDown:e=>{if(e.target===e.target.getStage()){setSelectedId(null);}},children:/*#__PURE__*/_jsxs(Layer,{children:[/*#__PURE__*/_jsx(Rect,{x:0,y:0,width:400,height:242,fill:\"#ffffff\",stroke:\"#e5e7eb\",strokeWidth:1}),textElements.map(element=>/*#__PURE__*/_jsx(Text,{id:element.id,text:element.text,x:element.x,y:element.y,fontSize:element.fontSize,fontFamily:element.fontFamily,fill:element.fill,align:element.align,width:element.width,draggable:element.draggable,onClick:()=>handleTextClick(element.id),onTap:()=>handleTextClick(element.id),onDragEnd:e=>{handleTextUpdate(element.id,{x:e.target.x(),y:e.target.y()});}},element.id)),/*#__PURE__*/_jsx(Transformer,{ref:transformerRef})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"design-tools\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tool-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u30C6\\u30AD\\u30B9\\u30C8\\u7DE8\\u96C6\"}),selectedId&&/*#__PURE__*/_jsx(\"div\",{className:\"text-editor\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingText,onChange:e=>setEditingText(e.target.value),onBlur:()=>handleTextEdit(selectedId,editingText),onKeyPress:e=>{if(e.key==='Enter'){handleTextEdit(selectedId,editingText);}},placeholder:\"\\u30C6\\u30AD\\u30B9\\u30C8\\u3092\\u5165\\u529B\",className:\"text-input\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tool-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u30D5\\u30A9\\u30F3\\u30C8\\u8A2D\\u5B9A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-controls\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u30D5\\u30A9\\u30F3\\u30C8\\u30B5\\u30A4\\u30BA:\",/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"8\",max:\"48\",value:fontSize,onChange:e=>{setFontSize(Number(e.target.value));if(selectedId){handleTextUpdate(selectedId,{fontSize:Number(e.target.value)});}},className:\"font-size-slider\"}),/*#__PURE__*/_jsxs(\"span\",{children:[fontSize,\"px\"]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u30D5\\u30A9\\u30F3\\u30C8:\",/*#__PURE__*/_jsxs(\"select\",{value:fontFamily,onChange:e=>{setFontFamily(e.target.value);if(selectedId){handleTextUpdate(selectedId,{fontFamily:e.target.value});}},className:\"font-family-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Arial\",children:\"Arial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Helvetica\",children:\"Helvetica\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Times New Roman\",children:\"Times New Roman\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Georgia\",children:\"Georgia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Verdana\",children:\"Verdana\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u8272:\",/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:textColor,onChange:e=>{setTextColor(e.target.value);if(selectedId){handleTextUpdate(selectedId,{fill:e.target.value});}},className:\"color-picker\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tool-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u30A2\\u30AF\\u30B7\\u30E7\\u30F3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleAddText,children:\"\\u30C6\\u30AD\\u30B9\\u30C8\\u8FFD\\u52A0\"}),selectedId&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDeleteText,children:\"\\u524A\\u9664\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:handleExportImage,children:\"\\u753B\\u50CF\\u3068\\u3057\\u3066\\u4FDD\\u5B58\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"design-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCancel,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleSave,children:\"\\u30C7\\u30B6\\u30A4\\u30F3\\u3092\\u4FDD\\u5B58\"})]})]})]})});};export default BusinessCardDesign;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useNavigate","useAuth","Stage","Layer","Rect","Text","Transformer","jsx","_jsx","jsxs","_jsxs","BusinessCardDesign","user","isAuthenticated","navigate","profile","setProfile","isLoading","setIsLoading","currentSide","setCurrentSide","frontDesign","setFrontDesign","backDesign","setBackDesign","textElements","setTextElements","selectedId","setSelectedId","editingText","setEditingText","isEditing","setIsEditing","fontSize","setFontSize","textColor","setTextColor","fontFamily","setFontFamily","transformerRef","stageRef","mockProfile","id","userId","company","jobTitle","bio","skills","interests","contactInfo","email","phone","sns","twitter","linkedin","github","instagram","website","isPublic","createdAt","Date","updatedAt","initialTexts","text","x","y","fill","width","align","draggable","name","current","_stageRef$current","node","findOne","concat","_transformerRef$curre","nodes","getLayer","batchDraw","handleDesignChange","currentDesign","side","timestamp","toISOString","handleTextClick","element","find","el","handleTextEdit","newText","prev","map","_objectSpread","handleTextUpdate","updates","handleAddText","now","handleDeleteText","filter","handleSave","Promise","resolve","setTimeout","console","log","error","handleCancel","handleExportImage","dataURL","toDataURL","link","document","createElement","download","href","click","className","children","onClick","ref","height","onMouseDown","e","target","getStage","stroke","strokeWidth","onTap","onDragEnd","type","value","onChange","onBlur","onKeyPress","key","placeholder","min","max","Number"],"sources":["/Users/takahiro/Dev/webhack/src/pages/BusinessCardDesign.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Profile } from \"../types\";\nimport { Stage, Layer, Rect, Text, Transformer } from \"react-konva\";\nimport Konva from \"konva\";\nimport \"./BusinessCardDesign.css\";\n\ninterface TextElement {\n  id: string;\n  text: string;\n  x: number;\n  y: number;\n  fontSize: number;\n  fontFamily: string;\n  fill: string;\n  width: number;\n  align: string;\n  draggable: boolean;\n}\n\nconst BusinessCardDesign: React.FC = () => {\n  const { user, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentSide, setCurrentSide] = useState<'front' | 'back'>('front');\n  const [frontDesign, setFrontDesign] = useState<any>(null);\n  const [backDesign, setBackDesign] = useState<any>(null);\n  const [textElements, setTextElements] = useState<TextElement[]>([]);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [editingText, setEditingText] = useState<string>(\"\");\n  const [isEditing, setIsEditing] = useState(false);\n  const [fontSize, setFontSize] = useState(16);\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  \n  const transformerRef = useRef<Konva.Transformer>(null);\n  const stageRef = useRef<Konva.Stage>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n      return;\n    }\n\n    // モックプロフィールデータを取得\n    const mockProfile: Profile = {\n      id: \"1\",\n      userId: user?.id || \"1\",\n      company: \"テック株式会社\",\n      jobTitle: \"フロントエンドエンジニア\",\n      bio: \"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",\n      skills: [\n        \"React\",\n        \"TypeScript\",\n        \"Node.js\",\n        \"CSS\",\n        \"HTML\",\n        \"JavaScript\",\n        \"Git\",\n        \"AWS\",\n      ],\n      interests: [\"プログラミング\", \"読書\", \"旅行\", \"料理\", \"音楽\"],\n      contactInfo: {\n        email: \"taro.tech@example.com\",\n        phone: \"090-1234-5678\",\n        sns: {\n          twitter: \"taro_tech\",\n          linkedin: \"taro-tech\",\n          github: \"taro-tech\",\n          instagram: \"taro_tech_dev\",\n        },\n        website: \"https://taro-tech.dev\",\n      },\n      isPublic: true,\n      createdAt: new Date(\"2024-01-01\"),\n      updatedAt: new Date(),\n    };\n\n    setProfile(mockProfile);\n    setIsLoading(false);\n  }, [isAuthenticated, user, navigate]);\n\n  // 初期テキスト要素を設定\n  useEffect(() => {\n    if (profile) {\n      const initialTexts: TextElement[] = currentSide === 'front' ? [\n        {\n          id: 'company',\n          text: profile.company || \"会社名\",\n          x: 200,\n          y: 60,\n          fontSize: 18,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'jobTitle',\n          text: profile.jobTitle || \"役職\",\n          x: 200,\n          y: 90,\n          fontSize: 14,\n          fontFamily: \"Arial\",\n          fill: \"#666666\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'name',\n          text: user?.name || \"氏名\",\n          x: 200,\n          y: 120,\n          fontSize: 16,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        }\n      ] : [\n        {\n          id: 'email',\n          text: profile.contactInfo.email || \"メールアドレス\",\n          x: 200,\n          y: 80,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'phone',\n          text: profile.contactInfo.phone || \"電話番号\",\n          x: 200,\n          y: 110,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        },\n        {\n          id: 'website',\n          text: profile.contactInfo.website || \"ウェブサイト\",\n          x: 200,\n          y: 140,\n          fontSize: 12,\n          fontFamily: \"Arial\",\n          fill: \"#000000\",\n          width: 400,\n          align: \"center\",\n          draggable: true,\n        }\n      ];\n      \n      setTextElements(initialTexts);\n    }\n  }, [profile, currentSide, user]);\n\n  // 選択された要素のTransformerを更新\n  useEffect(() => {\n    if (selectedId && transformerRef.current) {\n      const node = stageRef.current?.findOne(`#${selectedId}`);\n      if (node) {\n        transformerRef.current.nodes([node]);\n        transformerRef.current.getLayer()?.batchDraw();\n      }\n    }\n  }, [selectedId]);\n\n  const handleDesignChange = useCallback(() => {\n    const currentDesign = {\n      side: currentSide,\n      timestamp: new Date().toISOString(),\n      profile: profile,\n      textElements: textElements\n    };\n    \n    if (currentSide === 'front') {\n      setFrontDesign(currentDesign);\n    } else {\n      setBackDesign(currentDesign);\n    }\n  }, [currentSide, profile, textElements]);\n\n  const handleTextClick = (id: string) => {\n    setSelectedId(id);\n    const element = textElements.find(el => el.id === id);\n    if (element) {\n      setEditingText(element.text);\n      setIsEditing(true);\n    }\n  };\n\n  const handleTextEdit = (id: string, newText: string) => {\n    setTextElements(prev => \n      prev.map(el => \n        el.id === id ? { ...el, text: newText } : el\n      )\n    );\n    setIsEditing(false);\n    setEditingText(\"\");\n  };\n\n  const handleTextUpdate = (id: string, updates: Partial<TextElement>) => {\n    setTextElements(prev => \n      prev.map(el => \n        el.id === id ? { ...el, ...updates } : el\n      )\n    );\n  };\n\n  const handleAddText = () => {\n    const newText: TextElement = {\n      id: `text-${Date.now()}`,\n      text: \"新しいテキスト\",\n      x: 100,\n      y: 100,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      fill: textColor,\n      width: 200,\n      align: \"left\",\n      draggable: true,\n    };\n    setTextElements(prev => [...prev, newText]);\n    setSelectedId(newText.id);\n  };\n\n  const handleDeleteText = () => {\n    if (selectedId) {\n      setTextElements(prev => prev.filter(el => el.id !== selectedId));\n      setSelectedId(null);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      console.log(\"名刺デザインを保存しました\");\n      console.log(\"表面デザイン:\", frontDesign);\n      console.log(\"裏面デザイン:\", backDesign);\n      navigate(\"/business-card/edit\");\n    } catch (error) {\n      console.error(\"名刺デザインの保存に失敗しました:\", error);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(\"/business-card/edit\");\n  };\n\n  const handleExportImage = () => {\n    if (stageRef.current) {\n      const dataURL = stageRef.current.toDataURL();\n      const link = document.createElement('a');\n      link.download = `business-card-${currentSide}.png`;\n      link.href = dataURL;\n      link.click();\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"loading\">読み込み中...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"error\">プロフィールが見つかりません</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"business-card-design\">\n      <div className=\"container\">\n        <div className=\"design-header\">\n          <h1>名刺デザイン</h1>\n          <p>名刺の表面・裏面をデザインできます</p>\n        </div>\n\n        <div className=\"design-container\">\n          {/* サイド選択タブ */}\n          <div className=\"side-tabs\">\n            <button\n              className={`side-tab ${currentSide === 'front' ? 'active' : ''}`}\n              onClick={() => setCurrentSide('front')}\n            >\n              表面\n            </button>\n            <button\n              className={`side-tab ${currentSide === 'back' ? 'active' : ''}`}\n              onClick={() => setCurrentSide('back')}\n            >\n              裏面\n            </button>\n          </div>\n\n          <div className=\"design-workspace\">\n            {/* デザインエディター */}\n            <div className=\"editor-container\">\n              <div className=\"editor-wrapper\">\n                <Stage\n                  ref={stageRef}\n                  width={400}\n                  height={242}\n                  onMouseDown={(e) => {\n                    if (e.target === e.target.getStage()) {\n                      setSelectedId(null);\n                    }\n                  }}\n                >\n                  <Layer>\n                    {/* 背景 */}\n                    <Rect\n                      x={0}\n                      y={0}\n                      width={400}\n                      height={242}\n                      fill=\"#ffffff\"\n                      stroke=\"#e5e7eb\"\n                      strokeWidth={1}\n                    />\n                    \n                    {/* テキスト要素 */}\n                    {textElements.map((element) => (\n                      <Text\n                        key={element.id}\n                        id={element.id}\n                        text={element.text}\n                        x={element.x}\n                        y={element.y}\n                        fontSize={element.fontSize}\n                        fontFamily={element.fontFamily}\n                        fill={element.fill}\n                        align={element.align as any}\n                        width={element.width}\n                        draggable={element.draggable}\n                        onClick={() => handleTextClick(element.id)}\n                        onTap={() => handleTextClick(element.id)}\n                        onDragEnd={(e) => {\n                          handleTextUpdate(element.id, {\n                            x: e.target.x(),\n                            y: e.target.y()\n                          });\n                        }}\n                      />\n                    ))}\n                    \n                    {/* Transformer */}\n                    <Transformer ref={transformerRef} />\n                  </Layer>\n                </Stage>\n              </div>\n            </div>\n\n            {/* デザインツール */}\n            <div className=\"design-tools\">\n              <div className=\"tool-section\">\n                <h3>テキスト編集</h3>\n                {selectedId && (\n                  <div className=\"text-editor\">\n                    <input\n                      type=\"text\"\n                      value={editingText}\n                      onChange={(e) => setEditingText(e.target.value)}\n                      onBlur={() => handleTextEdit(selectedId, editingText)}\n                      onKeyPress={(e) => {\n                        if (e.key === 'Enter') {\n                          handleTextEdit(selectedId, editingText);\n                        }\n                      }}\n                      placeholder=\"テキストを入力\"\n                      className=\"text-input\"\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"tool-section\">\n                <h3>フォント設定</h3>\n                <div className=\"font-controls\">\n                  <label>\n                    フォントサイズ:\n                    <input\n                      type=\"range\"\n                      min=\"8\"\n                      max=\"48\"\n                      value={fontSize}\n                      onChange={(e) => {\n                        setFontSize(Number(e.target.value));\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fontSize: Number(e.target.value) });\n                        }\n                      }}\n                      className=\"font-size-slider\"\n                    />\n                    <span>{fontSize}px</span>\n                  </label>\n                  \n                  <label>\n                    フォント:\n                    <select\n                      value={fontFamily}\n                      onChange={(e) => {\n                        setFontFamily(e.target.value);\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fontFamily: e.target.value });\n                        }\n                      }}\n                      className=\"font-family-select\"\n                    >\n                      <option value=\"Arial\">Arial</option>\n                      <option value=\"Helvetica\">Helvetica</option>\n                      <option value=\"Times New Roman\">Times New Roman</option>\n                      <option value=\"Georgia\">Georgia</option>\n                      <option value=\"Verdana\">Verdana</option>\n                    </select>\n                  </label>\n                  \n                  <label>\n                    色:\n                    <input\n                      type=\"color\"\n                      value={textColor}\n                      onChange={(e) => {\n                        setTextColor(e.target.value);\n                        if (selectedId) {\n                          handleTextUpdate(selectedId, { fill: e.target.value });\n                        }\n                      }}\n                      className=\"color-picker\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"tool-section\">\n                <h3>アクション</h3>\n                <div className=\"action-buttons\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={handleAddText}\n                  >\n                    テキスト追加\n                  </button>\n                  {selectedId && (\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-danger\"\n                      onClick={handleDeleteText}\n                    >\n                      削除\n                    </button>\n                  )}\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-success\"\n                    onClick={handleExportImage}\n                  >\n                    画像として保存\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* アクションボタン */}\n          <div className=\"design-actions\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={handleCancel}\n            >\n              キャンセル\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSave}\n            >\n              デザインを保存\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BusinessCardDesign;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}