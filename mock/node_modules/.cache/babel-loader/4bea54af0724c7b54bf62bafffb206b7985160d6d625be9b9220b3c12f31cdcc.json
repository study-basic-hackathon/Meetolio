{"ast":null,"code":"import _objectSpread from\"/Users/takahiro/Dev/webhack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import\"./DeleteAccount.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteAccount=()=>{const{user}=useAuth();const navigate=useNavigate();const[formData,setFormData]=useState({reason:\"\",password:\"\"});const[isDeleting,setIsDeleting]=useState(false);const[errors,setErrors]=useState({});const handleInputChange=(field,value)=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[field]:value}));// エラーをクリア\nif(errors[field]){setErrors(_objectSpread(_objectSpread({},errors),{},{[field]:undefined}));}};const validateForm=()=>{const newErrors={};if(!formData.reason.trim()){newErrors.reason=\"退会理由を選択してください\";}if(!formData.password.trim()){newErrors.password=\"パスワードを入力してください\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsDeleting(true);try{// モックAPI呼び出し\nawait new Promise(resolve=>setTimeout(resolve,1000));// 成功時の処理\nconsole.log(\"アカウントを削除しました\");navigate(\"/login\");}catch(error){console.error(\"アカウントの削除に失敗しました:\",error);}finally{setIsDeleting(false);}};const handleCancel=()=>{navigate(\"/settings\");};return/*#__PURE__*/_jsx(\"div\",{className:\"delete-account\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Meetolio\\u3092\\u9000\\u4F1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-description\",children:\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3092\\u524A\\u9664\\u3059\\u308B\\u3068\\u3001\\u3059\\u3079\\u3066\\u306E\\u30C7\\u30FC\\u30BF\\u304C\\u5B8C\\u5168\\u306B\\u524A\\u9664\\u3055\\u308C\\u3001\\u5FA9\\u5143\\u3059\\u308B\\u3053\\u3068\\u306F\\u3067\\u304D\\u307E\\u305B\\u3093\\u3002 \\u3053\\u306E\\u64CD\\u4F5C\\u306F\\u53D6\\u308A\\u6D88\\u3059\\u3053\\u3068\\u304C\\u3067\\u304D\\u307E\\u305B\\u3093\\u3002\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reason\",children:\"\\u9000\\u4F1A\\u7406\\u7531\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"reason\",value:formData.reason,onChange:e=>handleInputChange(\"reason\",e.target.value),placeholder:\"\\u9000\\u4F1A\\u7406\\u7531\\u3092\\u304A\\u805E\\u304B\\u305B\\u304F\\u3060\\u3055\\u3044\",rows:5,className:errors.reason?\"error\":\"\"}),errors.reason&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.reason})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u78BA\\u8A8D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:formData.password,onChange:e=>handleInputChange(\"password\",e.target.value),placeholder:\"\\u73FE\\u5728\\u306E\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",className:errors.password?\"error\":\"\"}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"warning-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"warning-section-title\",children:\"\\u9000\\u4F1A\\u3059\\u308B\\u524D\\u306B\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"warning-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u5B9A\\u671F\\u8CFC\\u8AAD\\u4E2D\\u306E\\u30DE\\u30AC\\u30B8\\u30F3\\u306E\\u8CFC\\u8AAD\\u505C\\u6B62\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u30D7\\u30EC\\u30DF\\u30A2\\u30E0\\u306E\\u505C\\u6B62\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u53C2\\u52A0\\u4E2D\\u306E\\u30E1\\u30F3\\u30D0\\u30FC\\u30B7\\u30C3\\u30D7\\u304B\\u3089\\u9000\\u4F1A\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u904B\\u55B6\\u4E2D\\u306E\\u30E1\\u30F3\\u30D0\\u30FC\\u30B7\\u30C3\\u30D7\\u306E\\u30D7\\u30E9\\u30F3\\u505C\\u6B62\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"warning-conclusion\",children:\"\\u3092\\u3001\\u5B8C\\u4E86\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\\u3053\\u308C\\u3089\\u304C\\u5B8C\\u4E86\\u3057\\u3066\\u3044\\u306A\\u3044\\u3068\\u9000\\u4F1A\\u3059\\u308B\\u3053\\u3068\\u304C\\u3067\\u304D\\u307E\\u305B\\u3093\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCancel,disabled:isDeleting,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",disabled:isDeleting,children:isDeleting?\"削除中...\":\"アカウントを削除する\"})]})]})]})})});};export default DeleteAccount;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","DeleteAccount","user","navigate","formData","setFormData","reason","password","isDeleting","setIsDeleting","errors","setErrors","handleInputChange","field","value","_objectSpread","undefined","validateForm","newErrors","trim","Object","keys","length","handleSubmit","e","preventDefault","Promise","resolve","setTimeout","console","log","error","handleCancel","className","children","onSubmit","htmlFor","id","onChange","target","placeholder","rows","type","onClick","disabled"],"sources":["/Users/takahiro/Dev/webhack/src/pages/DeleteAccount.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { DeleteAccountForm } from \"../types\";\nimport \"./DeleteAccount.css\";\n\nconst DeleteAccount: React.FC = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState<DeleteAccountForm>({\n    reason: \"\",\n    password: \"\",\n  });\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [errors, setErrors] = useState<Partial<DeleteAccountForm>>({});\n\n  const handleInputChange = (field: keyof DeleteAccountForm, value: string) => {\n    setFormData({\n      ...formData,\n      [field]: value,\n    });\n    // エラーをクリア\n    if (errors[field]) {\n      setErrors({\n        ...errors,\n        [field]: undefined,\n      });\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Partial<DeleteAccountForm> = {};\n\n    if (!formData.reason.trim()) {\n      newErrors.reason = \"退会理由を選択してください\";\n    }\n\n    if (!formData.password.trim()) {\n      newErrors.password = \"パスワードを入力してください\";\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsDeleting(true);\n\n    try {\n      // モックAPI呼び出し\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n\n      // 成功時の処理\n      console.log(\"アカウントを削除しました\");\n      navigate(\"/login\");\n    } catch (error) {\n      console.error(\"アカウントの削除に失敗しました:\", error);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(\"/settings\");\n  };\n\n  return (\n    <div className=\"delete-account\">\n      <div className=\"container\">\n        <div className=\"edit-form\">\n          <div className=\"form-header\">\n            <h2 className=\"form-title\">Meetolioを退会</h2>\n            <p className=\"form-description\">\n              アカウントを削除すると、すべてのデータが完全に削除され、復元することはできません。\n              この操作は取り消すことができません。\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            {/* 退会理由 */}\n            <div className=\"form-group\">\n              <label htmlFor=\"reason\">退会理由</label>\n              <textarea\n                id=\"reason\"\n                value={formData.reason}\n                onChange={(e) => handleInputChange(\"reason\", e.target.value)}\n                placeholder=\"退会理由をお聞かせください\"\n                rows={5}\n                className={errors.reason ? \"error\" : \"\"}\n              />\n              {errors.reason && (\n                <div className=\"error-message\">{errors.reason}</div>\n              )}\n            </div>\n\n            {/* パスワード確認 */}\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">パスワード確認</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                value={formData.password}\n                onChange={(e) => handleInputChange(\"password\", e.target.value)}\n                placeholder=\"現在のパスワード\"\n                className={errors.password ? \"error\" : \"\"}\n              />\n              {errors.password && (\n                <div className=\"error-message\">{errors.password}</div>\n              )}\n            </div>\n\n            {/* 退会前の確認事項 */}\n            <div className=\"warning-section\">\n              <h3 className=\"warning-section-title\">退会する前に</h3>\n              <ul className=\"warning-list\">\n                <li>定期購読中のマガジンの購読停止</li>\n                <li>プレミアムの停止</li>\n                <li>参加中のメンバーシップから退会</li>\n                <li>運営中のメンバーシップのプラン停止</li>\n              </ul>\n              <p className=\"warning-conclusion\">\n                を、完了してください。これらが完了していないと退会することができません。\n              </p>\n            </div>\n\n            {/* ボタン */}\n            <div className=\"form-actions\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={handleCancel}\n                disabled={isDeleting}\n              >\n                キャンセル\n              </button>\n              <button\n                type=\"submit\"\n                className=\"btn btn-danger\"\n                disabled={isDeleting}\n              >\n                {isDeleting ? \"削除中...\" : \"アカウントを削除する\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteAccount;\n"],"mappings":"gHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,yBAAyB,CAEjD,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,aAAuB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAEC,IAAK,CAAC,CAAGN,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAAO,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAoB,CAC1DY,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAA6B,CAAC,CAAC,CAAC,CAEpE,KAAM,CAAAkB,iBAAiB,CAAGA,CAACC,KAA8B,CAAEC,KAAa,GAAK,CAC3ET,WAAW,CAAAU,aAAA,CAAAA,aAAA,IACNX,QAAQ,MACX,CAACS,KAAK,EAAGC,KAAK,EACf,CAAC,CACF;AACA,GAAIJ,MAAM,CAACG,KAAK,CAAC,CAAE,CACjBF,SAAS,CAAAI,aAAA,CAAAA,aAAA,IACJL,MAAM,MACT,CAACG,KAAK,EAAGG,SAAS,EACnB,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAe,CAClC,KAAM,CAAAC,SAAqC,CAAG,CAAC,CAAC,CAEhD,GAAI,CAACd,QAAQ,CAACE,MAAM,CAACa,IAAI,CAAC,CAAC,CAAE,CAC3BD,SAAS,CAACZ,MAAM,CAAG,eAAe,CACpC,CAEA,GAAI,CAACF,QAAQ,CAACG,QAAQ,CAACY,IAAI,CAAC,CAAC,CAAE,CAC7BD,SAAS,CAACX,QAAQ,CAAG,gBAAgB,CACvC,CAEAI,SAAS,CAACO,SAAS,CAAC,CACpB,MAAO,CAAAE,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACR,YAAY,CAAC,CAAC,CAAE,CACnB,OACF,CAEAR,aAAa,CAAC,IAAI,CAAC,CAEnB,GAAI,CACF;AACA,KAAM,IAAI,CAAAiB,OAAO,CAAEC,OAAO,EAAKC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,CAAC,CAEzD;AACAE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3B3B,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAO4B,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,kBAAkB,CAAEA,KAAK,CAAC,CAC1C,CAAC,OAAS,CACRtB,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAuB,YAAY,CAAGA,CAAA,GAAM,CACzB7B,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAED,mBACEL,IAAA,QAAKmC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BpC,IAAA,QAAKmC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlC,KAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpC,IAAA,OAAImC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,4BAAW,CAAI,CAAC,cAC3CpC,IAAA,MAAGmC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,qWAGhC,CAAG,CAAC,EACD,CAAC,cAENlC,KAAA,SAAMmC,QAAQ,CAAEZ,YAAa,CAAAW,QAAA,eAE3BlC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpC,IAAA,UAAOsC,OAAO,CAAC,QAAQ,CAAAF,QAAA,CAAC,0BAAI,CAAO,CAAC,cACpCpC,IAAA,aACEuC,EAAE,CAAC,QAAQ,CACXvB,KAAK,CAAEV,QAAQ,CAACE,MAAO,CACvBgC,QAAQ,CAAGd,CAAC,EAAKZ,iBAAiB,CAAC,QAAQ,CAAEY,CAAC,CAACe,MAAM,CAACzB,KAAK,CAAE,CAC7D0B,WAAW,CAAC,gFAAe,CAC3BC,IAAI,CAAE,CAAE,CACRR,SAAS,CAAEvB,MAAM,CAACJ,MAAM,CAAG,OAAO,CAAG,EAAG,CACzC,CAAC,CACDI,MAAM,CAACJ,MAAM,eACZR,IAAA,QAAKmC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAExB,MAAM,CAACJ,MAAM,CAAM,CACpD,EACE,CAAC,cAGNN,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpC,IAAA,UAAOsC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,4CAAO,CAAO,CAAC,cACzCpC,IAAA,UACE4C,IAAI,CAAC,UAAU,CACfL,EAAE,CAAC,UAAU,CACbvB,KAAK,CAAEV,QAAQ,CAACG,QAAS,CACzB+B,QAAQ,CAAGd,CAAC,EAAKZ,iBAAiB,CAAC,UAAU,CAAEY,CAAC,CAACe,MAAM,CAACzB,KAAK,CAAE,CAC/D0B,WAAW,CAAC,kDAAU,CACtBP,SAAS,CAAEvB,MAAM,CAACH,QAAQ,CAAG,OAAO,CAAG,EAAG,CAC3C,CAAC,CACDG,MAAM,CAACH,QAAQ,eACdT,IAAA,QAAKmC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAExB,MAAM,CAACH,QAAQ,CAAM,CACtD,EACE,CAAC,cAGNP,KAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpC,IAAA,OAAImC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cACjDlC,KAAA,OAAIiC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC1BpC,IAAA,OAAAoC,QAAA,CAAI,4FAAe,CAAI,CAAC,cACxBpC,IAAA,OAAAoC,QAAA,CAAI,kDAAQ,CAAI,CAAC,cACjBpC,IAAA,OAAAoC,QAAA,CAAI,4FAAe,CAAI,CAAC,cACxBpC,IAAA,OAAAoC,QAAA,CAAI,wGAAiB,CAAI,CAAC,EACxB,CAAC,cACLpC,IAAA,MAAGmC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,0NAElC,CAAG,CAAC,EACD,CAAC,cAGNlC,KAAA,QAAKiC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BpC,IAAA,WACE4C,IAAI,CAAC,QAAQ,CACbT,SAAS,CAAC,mBAAmB,CAC7BU,OAAO,CAAEX,YAAa,CACtBY,QAAQ,CAAEpC,UAAW,CAAA0B,QAAA,CACtB,gCAED,CAAQ,CAAC,cACTpC,IAAA,WACE4C,IAAI,CAAC,QAAQ,CACbT,SAAS,CAAC,gBAAgB,CAC1BW,QAAQ,CAAEpC,UAAW,CAAA0B,QAAA,CAEpB1B,UAAU,CAAG,QAAQ,CAAG,YAAY,CAC/B,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}