{"ast":null,"code":"var _jsxFileName = \"/Users/takahiro/Dev/webhack/src/pages/BusinessCardDesign.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Stage, Layer, Rect, Text, Transformer, Circle, Line, Group } from \"react-konva\";\nimport \"./BusinessCardDesign.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BusinessCardDesign = () => {\n  _s();\n  var _elements$find;\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentSide, setCurrentSide] = useState(\"front\");\n  const [elements, setElements] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n  const [editingText, setEditingText] = useState(\"\");\n  const [fontSize, setFontSize] = useState(16);\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  const [currentTool, setCurrentTool] = useState('select');\n  const [showGrid, setShowGrid] = useState(false);\n  const [showGuidelines, setShowGuidelines] = useState(true);\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const transformerRef = useRef(null);\n  const stageRef = useRef(null);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n      return;\n    }\n\n    // モックプロフィールデータを取得\n    const mockProfile = {\n      id: \"1\",\n      userId: (user === null || user === void 0 ? void 0 : user.id) || \"1\",\n      company: \"テック株式会社\",\n      jobTitle: \"フロントエンドエンジニア\",\n      bio: \"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",\n      skills: [\"React\", \"TypeScript\", \"Node.js\", \"CSS\", \"HTML\", \"JavaScript\", \"Git\", \"AWS\"],\n      interests: [\"プログラミング\", \"読書\", \"旅行\", \"料理\", \"音楽\"],\n      contactInfo: {\n        email: \"taro.tech@example.com\",\n        phone: \"090-1234-5678\",\n        sns: {\n          twitter: \"taro_tech\",\n          linkedin: \"taro-tech\",\n          github: \"taro-tech\",\n          instagram: \"taro_tech_dev\"\n        },\n        website: \"https://taro-tech.dev\"\n      },\n      isPublic: true,\n      createdAt: new Date(\"2024-01-01\"),\n      updatedAt: new Date()\n    };\n    setProfile(mockProfile);\n    setIsLoading(false);\n  }, [isAuthenticated, user, navigate]);\n\n  // 初期テキスト要素を設定\n  useEffect(() => {\n    if (profile) {\n      const initialElements = currentSide === \"front\" ? [{\n        id: \"company\",\n        type: \"text\",\n        text: profile.company || \"会社名\",\n        x: 200,\n        y: 60,\n        fontSize: 18,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: \"jobTitle\",\n        type: \"text\",\n        text: profile.jobTitle || \"役職\",\n        x: 200,\n        y: 90,\n        fontSize: 14,\n        fontFamily: \"Arial\",\n        fill: \"#666666\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: \"name\",\n        type: \"text\",\n        text: (user === null || user === void 0 ? void 0 : user.name) || \"氏名\",\n        x: 200,\n        y: 120,\n        fontSize: 16,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }] : [{\n        id: \"email\",\n        type: \"text\",\n        text: profile.contactInfo.email || \"メールアドレス\",\n        x: 200,\n        y: 80,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: \"phone\",\n        type: \"text\",\n        text: profile.contactInfo.phone || \"電話番号\",\n        x: 200,\n        y: 110,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }, {\n        id: \"website\",\n        type: \"text\",\n        text: profile.contactInfo.website || \"ウェブサイト\",\n        x: 200,\n        y: 140,\n        fontSize: 12,\n        fontFamily: \"Arial\",\n        fill: \"#000000\",\n        width: 400,\n        align: \"center\",\n        draggable: true\n      }];\n      setElements(initialElements);\n      addToHistory(initialElements);\n    }\n  }, [profile, currentSide, user]);\n\n  // 選択された要素のTransformerを更新\n  useEffect(() => {\n    if (selectedId && transformerRef.current) {\n      var _stageRef$current;\n      const node = (_stageRef$current = stageRef.current) === null || _stageRef$current === void 0 ? void 0 : _stageRef$current.findOne(`#${selectedId}`);\n      if (node) {\n        var _transformerRef$curre;\n        transformerRef.current.nodes([node]);\n        (_transformerRef$curre = transformerRef.current.getLayer()) === null || _transformerRef$curre === void 0 ? void 0 : _transformerRef$curre.batchDraw();\n      }\n    }\n  }, [selectedId]);\n\n  // 履歴管理\n  const addToHistory = newElements => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push([...newElements]);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n  const undo = () => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setHistoryIndex(newIndex);\n      setElements([...history[newIndex]]);\n    }\n  };\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      const newIndex = historyIndex + 1;\n      setHistoryIndex(newIndex);\n      setElements([...history[newIndex]]);\n    }\n  };\n  const moveElement = (id, direction) => {\n    const newElements = [...elements];\n    const currentIndex = newElements.findIndex(el => el.id === id);\n    if (direction === 'forward' && currentIndex < newElements.length - 1) {\n      [newElements[currentIndex], newElements[currentIndex + 1]] = [newElements[currentIndex + 1], newElements[currentIndex]];\n    } else if (direction === 'backward' && currentIndex > 0) {\n      [newElements[currentIndex], newElements[currentIndex - 1]] = [newElements[currentIndex - 1], newElements[currentIndex]];\n    }\n    setElements(newElements);\n    addToHistory(newElements);\n  };\n  const alignElements = alignment => {\n    if (selectedId) {\n      const selectedElement = elements.find(el => el.id === selectedId);\n      if (!selectedElement) return;\n      const newElements = elements.map(el => {\n        if (el.id === selectedId) {\n          const newEl = {\n            ...el\n          };\n          switch (alignment) {\n            case 'left':\n              newEl.x = 50;\n              break;\n            case 'center':\n              newEl.x = 200;\n              break;\n            case 'right':\n              newEl.x = 350;\n              break;\n            case 'top':\n              newEl.y = 50;\n              break;\n            case 'middle':\n              newEl.y = 121;\n              break;\n            case 'bottom':\n              newEl.y = 192;\n              break;\n          }\n          return newEl;\n        }\n        return el;\n      });\n      setElements(newElements);\n      addToHistory(newElements);\n    }\n  };\n  const handleTextClick = id => {\n    setSelectedId(id);\n    const element = elements.find(el => el.id === id);\n    if (element && element.type === 'text') {\n      setEditingText(element.text);\n    }\n  };\n  const handleTextEdit = (id, newText) => {\n    const newElements = elements.map(el => el.id === id && el.type === 'text' ? {\n      ...el,\n      text: newText\n    } : el);\n    setElements(newElements);\n    addToHistory(newElements);\n    setEditingText(\"\");\n  };\n  const handleElementUpdate = (id, updates) => {\n    const newElements = elements.map(el => el.id === id ? {\n      ...el,\n      ...updates\n    } : el);\n    setElements(newElements);\n    addToHistory(newElements);\n  };\n  const handleAddText = () => {\n    const newText = {\n      id: `text-${Date.now()}`,\n      type: \"text\",\n      text: \"新しいテキスト\",\n      x: 100,\n      y: 100,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      fill: textColor,\n      width: 200,\n      align: \"left\",\n      draggable: true\n    };\n    const newElements = [...elements, newText];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newText.id);\n  };\n  const handleAddShape = shapeType => {\n    let newShape;\n    switch (shapeType) {\n      case 'rect':\n        newShape = {\n          id: `rect-${Date.now()}`,\n          type: 'rect',\n          x: 100,\n          y: 100,\n          width: 100,\n          height: 60,\n          fill: textColor,\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true\n        };\n        break;\n      case 'circle':\n        newShape = {\n          id: `circle-${Date.now()}`,\n          type: 'circle',\n          x: 150,\n          y: 150,\n          radius: 30,\n          fill: textColor,\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true\n        };\n        break;\n      case 'line':\n        newShape = {\n          id: `line-${Date.now()}`,\n          type: 'line',\n          x: 100,\n          y: 100,\n          points: [0, 0, 100, 0],\n          fill: '#000000',\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true\n        };\n        break;\n    }\n    const newElements = [...elements, newShape];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newShape.id);\n  };\n  const handleAddIcon = iconType => {\n    const newIcon = {\n      id: `icon-${Date.now()}`,\n      type: 'icon',\n      iconType,\n      x: 100,\n      y: 100,\n      size: 24,\n      fill: textColor,\n      draggable: true\n    };\n    const newElements = [...elements, newIcon];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newIcon.id);\n  };\n  const handleDeleteElement = () => {\n    if (selectedId) {\n      const newElements = elements.filter(el => el.id !== selectedId);\n      setElements(newElements);\n      addToHistory(newElements);\n      setSelectedId(null);\n    }\n  };\n  const handleSave = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      console.log(\"名刺デザインを保存しました\");\n      console.log(\"現在の要素:\", elements);\n      navigate(\"/business-card/edit\");\n    } catch (error) {\n      console.error(\"名刺デザインの保存に失敗しました:\", error);\n    }\n  };\n  const handleCancel = () => {\n    navigate(\"/business-card/edit\");\n  };\n  const handleExportImage = () => {\n    if (stageRef.current) {\n      const dataURL = stageRef.current.toDataURL();\n      const link = document.createElement(\"a\");\n      link.download = `business-card-${currentSide}.png`;\n      link.href = dataURL;\n      link.click();\n    }\n  };\n  const renderElement = element => {\n    switch (element.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(Text, {\n          id: element.id,\n          text: element.text,\n          x: element.x,\n          y: element.y,\n          fontSize: element.fontSize,\n          fontFamily: element.fontFamily,\n          fill: element.fill,\n          align: element.align,\n          width: element.width,\n          draggable: element.draggable,\n          onClick: () => handleTextClick(element.id),\n          onTap: () => handleTextClick(element.id),\n          onDragEnd: e => {\n            handleElementUpdate(element.id, {\n              x: e.target.x(),\n              y: e.target.y()\n            });\n          }\n        }, element.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this);\n      case 'rect':\n        return /*#__PURE__*/_jsxDEV(Rect, {\n          id: element.id,\n          x: element.x,\n          y: element.y,\n          width: element.width,\n          height: element.height,\n          fill: element.fill,\n          stroke: element.stroke,\n          strokeWidth: element.strokeWidth,\n          draggable: element.draggable,\n          onClick: () => setSelectedId(element.id),\n          onTap: () => setSelectedId(element.id),\n          onDragEnd: e => {\n            handleElementUpdate(element.id, {\n              x: e.target.x(),\n              y: e.target.y()\n            });\n          }\n        }, element.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this);\n      case 'circle':\n        return /*#__PURE__*/_jsxDEV(Circle, {\n          id: element.id,\n          x: element.x,\n          y: element.y,\n          radius: element.radius,\n          fill: element.fill,\n          stroke: element.stroke,\n          strokeWidth: element.strokeWidth,\n          draggable: element.draggable,\n          onClick: () => setSelectedId(element.id),\n          onTap: () => setSelectedId(element.id),\n          onDragEnd: e => {\n            handleElementUpdate(element.id, {\n              x: e.target.x(),\n              y: e.target.y()\n            });\n          }\n        }, element.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this);\n      case 'line':\n        return /*#__PURE__*/_jsxDEV(Line, {\n          id: element.id,\n          x: element.x,\n          y: element.y,\n          points: element.points,\n          fill: element.fill,\n          stroke: element.stroke,\n          strokeWidth: element.strokeWidth,\n          draggable: element.draggable,\n          onClick: () => setSelectedId(element.id),\n          onTap: () => setSelectedId(element.id),\n          onDragEnd: e => {\n            handleElementUpdate(element.id, {\n              x: e.target.x(),\n              y: e.target.y()\n            });\n          }\n        }, element.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this);\n      case 'icon':\n        return /*#__PURE__*/_jsxDEV(Group, {\n          id: element.id,\n          x: element.x,\n          y: element.y,\n          draggable: element.draggable,\n          onClick: () => setSelectedId(element.id),\n          onTap: () => setSelectedId(element.id),\n          onDragEnd: e => {\n            handleElementUpdate(element.id, {\n              x: e.target.x(),\n              y: e.target.y()\n            });\n          },\n          children: [element.iconType === 'phone' && /*#__PURE__*/_jsxDEV(Rect, {\n            x: 0,\n            y: 0,\n            width: element.size,\n            height: element.size * 1.6,\n            fill: element.fill\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), element.iconType === 'email' && /*#__PURE__*/_jsxDEV(Rect, {\n            x: 0,\n            y: 0,\n            width: element.size,\n            height: element.size * 0.8,\n            fill: element.fill\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this), element.iconType === 'website' && /*#__PURE__*/_jsxDEV(Circle, {\n            x: element.size / 2,\n            y: element.size / 2,\n            radius: element.size / 2,\n            fill: element.fill\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this)]\n        }, element.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"business-card-design\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this);\n  }\n  if (!profile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"business-card-design\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"business-card-design\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"design-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u540D\\u523A\\u30C7\\u30B6\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u540D\\u523A\\u306E\\u8868\\u9762\\u30FB\\u88CF\\u9762\\u3092\\u30C7\\u30B6\\u30A4\\u30F3\\u3067\\u304D\\u307E\\u3059\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"design-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `side-tab ${currentSide === \"front\" ? \"active\" : \"\"}`,\n            onClick: () => setCurrentSide(\"front\"),\n            children: \"\\u8868\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `side-tab ${currentSide === \"back\" ? \"active\" : \"\"}`,\n            onClick: () => setCurrentSide(\"back\"),\n            children: \"\\u88CF\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"design-toolbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolbar-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${currentTool === 'select' ? 'active' : ''}`,\n              onClick: () => setCurrentTool('select'),\n              title: \"\\u9078\\u629E\",\n              children: \"\\u270B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${currentTool === 'text' ? 'active' : ''}`,\n              onClick: () => setCurrentTool('text'),\n              title: \"\\u30C6\\u30AD\\u30B9\\u30C8\",\n              children: \"T\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${currentTool === 'rect' ? 'active' : ''}`,\n              onClick: () => setCurrentTool('rect'),\n              title: \"\\u56DB\\u89D2\\u5F62\",\n              children: \"\\u25A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${currentTool === 'circle' ? 'active' : ''}`,\n              onClick: () => setCurrentTool('circle'),\n              title: \"\\u5186\",\n              children: \"\\u25CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${currentTool === 'line' ? 'active' : ''}`,\n              onClick: () => setCurrentTool('line'),\n              title: \"\\u7DDA\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolbar-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: undo,\n              disabled: historyIndex <= 0,\n              title: \"\\u5143\\u306B\\u623B\\u3059\",\n              children: \"\\u21B6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: redo,\n              disabled: historyIndex >= history.length - 1,\n              title: \"\\u3084\\u308A\\u76F4\\u3057\",\n              children: \"\\u21B7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolbar-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: () => selectedId && moveElement(selectedId, 'forward'),\n              disabled: !selectedId,\n              title: \"\\u524D\\u9762\\u3078\",\n              children: \"\\u2B06\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: () => selectedId && moveElement(selectedId, 'backward'),\n              disabled: !selectedId,\n              title: \"\\u80CC\\u9762\\u3078\",\n              children: \"\\u2B07\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolbar-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${showGrid ? 'active' : ''}`,\n              onClick: () => setShowGrid(!showGrid),\n              title: \"\\u30B0\\u30EA\\u30C3\\u30C9\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toolbar-btn ${showGuidelines ? 'active' : ''}`,\n              onClick: () => setShowGuidelines(!showGuidelines),\n              title: \"\\u30AC\\u30A4\\u30C9\\u30E9\\u30A4\\u30F3\",\n              children: \"\\u229E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolbar-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: () => alignElements('left'),\n              disabled: !selectedId,\n              title: \"\\u5DE6\\u63C3\\u3048\",\n              children: \"\\u2B05\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: () => alignElements('center'),\n              disabled: !selectedId,\n              title: \"\\u4E2D\\u592E\\u63C3\\u3048\",\n              children: \"\\u2194\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"toolbar-btn\",\n              onClick: () => alignElements('right'),\n              disabled: !selectedId,\n              title: \"\\u53F3\\u63C3\\u3048\",\n              children: \"\\u27A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"design-workspace\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"editor-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"editor-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(Stage, {\n                ref: stageRef,\n                width: 400,\n                height: 242,\n                onMouseDown: e => {\n                  if (e.target === e.target.getStage()) {\n                    setSelectedId(null);\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Layer, {\n                  children: [/*#__PURE__*/_jsxDEV(Rect, {\n                    x: 0,\n                    y: 0,\n                    width: 400,\n                    height: 242,\n                    fill: \"#ffffff\",\n                    stroke: \"#e5e7eb\",\n                    strokeWidth: 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 21\n                  }, this), showGrid && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [Array.from({\n                      length: 20\n                    }, (_, i) => /*#__PURE__*/_jsxDEV(Line, {\n                      x: i * 20,\n                      y: 0,\n                      points: [0, 0, 0, 242],\n                      stroke: \"#f0f0f0\",\n                      strokeWidth: 1\n                    }, `grid-v-${i}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 771,\n                      columnNumber: 27\n                    }, this)), Array.from({\n                      length: 13\n                    }, (_, i) => /*#__PURE__*/_jsxDEV(Line, {\n                      x: 0,\n                      y: i * 20,\n                      points: [0, 0, 400, 0],\n                      stroke: \"#f0f0f0\",\n                      strokeWidth: 1\n                    }, `grid-h-${i}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 781,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true), showGuidelines && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Line, {\n                      x: 200,\n                      y: 0,\n                      points: [0, 0, 0, 242],\n                      stroke: \"#3b82f6\",\n                      strokeWidth: 1,\n                      dash: [5, 5]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 796,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      x: 0,\n                      y: 121,\n                      points: [0, 0, 400, 0],\n                      stroke: \"#3b82f6\",\n                      strokeWidth: 1,\n                      dash: [5, 5]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 797,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true), elements.map(renderElement), /*#__PURE__*/_jsxDEV(Transformer, {\n                    ref: transformerRef\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 805,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"design-tools\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C4\\u30FC\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tool-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  onClick: () => handleAddText(),\n                  children: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u8FFD\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  onClick: () => handleAddShape('rect'),\n                  children: \"\\u56DB\\u89D2\\u5F62\\u8FFD\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 823,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  onClick: () => handleAddShape('circle'),\n                  children: \"\\u5186\\u8FFD\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary\",\n                  onClick: () => handleAddShape('line'),\n                  children: \"\\u7DDA\\u8FFD\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30A2\\u30A4\\u30B3\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"icon-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"icon-btn\",\n                  onClick: () => handleAddIcon('phone'),\n                  title: \"\\u96FB\\u8A71\",\n                  children: \"\\uD83D\\uDCDE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"icon-btn\",\n                  onClick: () => handleAddIcon('email'),\n                  title: \"\\u30E1\\u30FC\\u30EB\",\n                  children: \"\\u2709\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 858,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"icon-btn\",\n                  onClick: () => handleAddIcon('website'),\n                  title: \"\\u30A6\\u30A7\\u30D6\\u30B5\\u30A4\\u30C8\",\n                  children: \"\\uD83C\\uDF10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 15\n            }, this), selectedId && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tool-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u8981\\u7D20\\u7DE8\\u96C6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 21\n                }, this), ((_elements$find = elements.find(el => el.id === selectedId)) === null || _elements$find === void 0 ? void 0 : _elements$find.type) === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-editor\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: editingText,\n                    onChange: e => setEditingText(e.target.value),\n                    onBlur: () => handleTextEdit(selectedId, editingText),\n                    onKeyPress: e => {\n                      if (e.key === \"Enter\") {\n                        handleTextEdit(selectedId, editingText);\n                      }\n                    },\n                    placeholder: \"\\u30C6\\u30AD\\u30B9\\u30C8\\u3092\\u5165\\u529B\",\n                    className: \"text-input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tool-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u30B9\\u30BF\\u30A4\\u30EB\\u8A2D\\u5B9A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"style-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"\\u30D5\\u30A9\\u30F3\\u30C8\\u30B5\\u30A4\\u30BA:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"range\",\n                      min: \"8\",\n                      max: \"48\",\n                      value: fontSize,\n                      onChange: e => {\n                        setFontSize(Number(e.target.value));\n                        if (selectedId) {\n                          const element = elements.find(el => el.id === selectedId);\n                          if (element && element.type === 'text') {\n                            handleElementUpdate(selectedId, {\n                              fontSize: Number(e.target.value)\n                            });\n                          }\n                        }\n                      },\n                      className: \"font-size-slider\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 905,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [fontSize, \"px\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 923,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 903,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"\\u30D5\\u30A9\\u30F3\\u30C8:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: fontFamily,\n                      onChange: e => {\n                        setFontFamily(e.target.value);\n                        if (selectedId) {\n                          const element = elements.find(el => el.id === selectedId);\n                          if (element && element.type === 'text') {\n                            handleElementUpdate(selectedId, {\n                              fontFamily: e.target.value\n                            });\n                          }\n                        }\n                      },\n                      className: \"font-family-select\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Arial\",\n                        children: \"Arial\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 943,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Helvetica\",\n                        children: \"Helvetica\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 944,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Times New Roman\",\n                        children: \"Times New Roman\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 945,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Georgia\",\n                        children: \"Georgia\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 946,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Verdana\",\n                        children: \"Verdana\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 947,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 928,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 926,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"\\u8272:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"color\",\n                      value: textColor,\n                      onChange: e => {\n                        setTextColor(e.target.value);\n                        if (selectedId) {\n                          handleElementUpdate(selectedId, {\n                            fill: e.target.value\n                          });\n                        }\n                      },\n                      className: \"color-picker\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 953,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 951,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tool-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u30A2\\u30AF\\u30B7\\u30E7\\u30F3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 971,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-danger\",\n                    onClick: handleDeleteElement,\n                    children: \"\\u524A\\u9664\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 973,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tool-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30A8\\u30AF\\u30B9\\u30DD\\u30FC\\u30C8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-buttons\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success\",\n                  onClick: handleExportImage,\n                  children: \"\\u753B\\u50CF\\u3068\\u3057\\u3066\\u4FDD\\u5B58\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 987,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 985,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"design-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: handleCancel,\n            children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1002,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handleSave,\n            children: \"\\u30C7\\u30B6\\u30A4\\u30F3\\u3092\\u4FDD\\u5B58\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 594,\n    columnNumber: 5\n  }, this);\n};\n_s(BusinessCardDesign, \"urXZSPUbWZnGStueXybm1mPTOkY=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = BusinessCardDesign;\nexport default BusinessCardDesign;\nvar _c;\n$RefreshReg$(_c, \"BusinessCardDesign\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useAuth","Stage","Layer","Rect","Text","Transformer","Circle","Line","Group","jsxDEV","_jsxDEV","Fragment","_Fragment","BusinessCardDesign","_s","_elements$find","user","isAuthenticated","navigate","profile","setProfile","isLoading","setIsLoading","currentSide","setCurrentSide","elements","setElements","selectedId","setSelectedId","editingText","setEditingText","fontSize","setFontSize","textColor","setTextColor","fontFamily","setFontFamily","currentTool","setCurrentTool","showGrid","setShowGrid","showGuidelines","setShowGuidelines","history","setHistory","historyIndex","setHistoryIndex","transformerRef","stageRef","mockProfile","id","userId","company","jobTitle","bio","skills","interests","contactInfo","email","phone","sns","twitter","linkedin","github","instagram","website","isPublic","createdAt","Date","updatedAt","initialElements","type","text","x","y","fill","width","align","draggable","name","addToHistory","current","_stageRef$current","node","findOne","_transformerRef$curre","nodes","getLayer","batchDraw","newElements","newHistory","slice","push","length","undo","newIndex","redo","moveElement","direction","currentIndex","findIndex","el","alignElements","alignment","selectedElement","find","map","newEl","handleTextClick","element","handleTextEdit","newText","handleElementUpdate","updates","handleAddText","now","handleAddShape","shapeType","newShape","height","stroke","strokeWidth","radius","points","handleAddIcon","iconType","newIcon","size","handleDeleteElement","filter","handleSave","Promise","resolve","setTimeout","console","log","error","handleCancel","handleExportImage","dataURL","toDataURL","link","document","createElement","download","href","click","renderElement","onClick","onTap","onDragEnd","e","target","fileName","_jsxFileName","lineNumber","columnNumber","children","className","title","disabled","ref","onMouseDown","getStage","Array","from","_","i","dash","value","onChange","onBlur","onKeyPress","key","placeholder","min","max","Number","_c","$RefreshReg$"],"sources":["/Users/takahiro/Dev/webhack/src/pages/BusinessCardDesign.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Profile } from \"../types\";\nimport { Stage, Layer, Rect, Text, Transformer, Circle, Line, Group } from \"react-konva\";\nimport Konva from \"konva\";\nimport \"./BusinessCardDesign.css\";\n\ninterface TextElement {\n  id: string;\n  type: 'text';\n  text: string;\n  x: number;\n  y: number;\n  fontSize: number;\n  fontFamily: string;\n  fill: string;\n  width: number;\n  align: string;\n  draggable: boolean;\n}\n\ninterface ShapeElement {\n  id: string;\n  type: 'rect' | 'circle' | 'line';\n  x: number;\n  y: number;\n  width?: number;\n  height?: number;\n  radius?: number;\n  points?: number[];\n  fill: string;\n  stroke: string;\n  strokeWidth: number;\n  draggable: boolean;\n}\n\ninterface IconElement {\n  id: string;\n  type: 'icon';\n  iconType: string;\n  x: number;\n  y: number;\n  size: number;\n  fill: string;\n  draggable: boolean;\n}\n\ntype DesignElement = TextElement | ShapeElement | IconElement;\n\nconst BusinessCardDesign: React.FC = () => {\n  const { user, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentSide, setCurrentSide] = useState<\"front\" | \"back\">(\"front\");\n  const [elements, setElements] = useState<DesignElement[]>([]);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [editingText, setEditingText] = useState<string>(\"\");\n  const [fontSize, setFontSize] = useState(16);\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  const [currentTool, setCurrentTool] = useState<'select' | 'text' | 'rect' | 'circle' | 'line' | 'icon'>('select');\n  const [showGrid, setShowGrid] = useState(false);\n  const [showGuidelines, setShowGuidelines] = useState(true);\n  const [history, setHistory] = useState<DesignElement[][]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  \n  const transformerRef = useRef<Konva.Transformer>(null);\n  const stageRef = useRef<Konva.Stage>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n      return;\n    }\n\n    // モックプロフィールデータを取得\n    const mockProfile: Profile = {\n      id: \"1\",\n      userId: user?.id || \"1\",\n      company: \"テック株式会社\",\n      jobTitle: \"フロントエンドエンジニア\",\n      bio: \"Web開発に携わって5年目です。React、TypeScript、Node.jsを中心に開発を行っています。ユーザビリティを重視した設計を心がけています。\",\n      skills: [\n        \"React\",\n        \"TypeScript\",\n        \"Node.js\",\n        \"CSS\",\n        \"HTML\",\n        \"JavaScript\",\n        \"Git\",\n        \"AWS\",\n      ],\n      interests: [\"プログラミング\", \"読書\", \"旅行\", \"料理\", \"音楽\"],\n      contactInfo: {\n        email: \"taro.tech@example.com\",\n        phone: \"090-1234-5678\",\n        sns: {\n          twitter: \"taro_tech\",\n          linkedin: \"taro-tech\",\n          github: \"taro-tech\",\n          instagram: \"taro_tech_dev\",\n        },\n        website: \"https://taro-tech.dev\",\n      },\n      isPublic: true,\n      createdAt: new Date(\"2024-01-01\"),\n      updatedAt: new Date(),\n    };\n\n    setProfile(mockProfile);\n    setIsLoading(false);\n  }, [isAuthenticated, user, navigate]);\n\n  // 初期テキスト要素を設定\n  useEffect(() => {\n    if (profile) {\n      const initialElements: DesignElement[] =\n        currentSide === \"front\"\n          ? [\n              {\n                id: \"company\",\n                type: \"text\",\n                text: profile.company || \"会社名\",\n                x: 200,\n                y: 60,\n                fontSize: 18,\n                fontFamily: \"Arial\",\n                fill: \"#000000\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n              {\n                id: \"jobTitle\",\n                type: \"text\",\n                text: profile.jobTitle || \"役職\",\n                x: 200,\n                y: 90,\n                fontSize: 14,\n                fontFamily: \"Arial\",\n                fill: \"#666666\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n              {\n                id: \"name\",\n                type: \"text\",\n                text: user?.name || \"氏名\",\n                x: 200,\n                y: 120,\n                fontSize: 16,\n                fontFamily: \"Arial\",\n                fill: \"#000000\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n            ]\n          : [\n              {\n                id: \"email\",\n                type: \"text\",\n                text: profile.contactInfo.email || \"メールアドレス\",\n                x: 200,\n                y: 80,\n                fontSize: 12,\n                fontFamily: \"Arial\",\n                fill: \"#000000\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n              {\n                id: \"phone\",\n                type: \"text\",\n                text: profile.contactInfo.phone || \"電話番号\",\n                x: 200,\n                y: 110,\n                fontSize: 12,\n                fontFamily: \"Arial\",\n                fill: \"#000000\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n              {\n                id: \"website\",\n                type: \"text\",\n                text: profile.contactInfo.website || \"ウェブサイト\",\n                x: 200,\n                y: 140,\n                fontSize: 12,\n                fontFamily: \"Arial\",\n                fill: \"#000000\",\n                width: 400,\n                align: \"center\",\n                draggable: true,\n              },\n            ];\n\n      setElements(initialElements);\n      addToHistory(initialElements);\n    }\n  }, [profile, currentSide, user]);\n\n  // 選択された要素のTransformerを更新\n  useEffect(() => {\n    if (selectedId && transformerRef.current) {\n      const node = stageRef.current?.findOne(`#${selectedId}`);\n      if (node) {\n        transformerRef.current.nodes([node]);\n        transformerRef.current.getLayer()?.batchDraw();\n      }\n    }\n  }, [selectedId]);\n\n  // 履歴管理\n  const addToHistory = (newElements: DesignElement[]) => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push([...newElements]);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n\n  const undo = () => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setHistoryIndex(newIndex);\n      setElements([...history[newIndex]]);\n    }\n  };\n\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      const newIndex = historyIndex + 1;\n      setHistoryIndex(newIndex);\n      setElements([...history[newIndex]]);\n    }\n  };\n\n  const moveElement = (id: string, direction: 'forward' | 'backward') => {\n    const newElements = [...elements];\n    const currentIndex = newElements.findIndex(el => el.id === id);\n    \n    if (direction === 'forward' && currentIndex < newElements.length - 1) {\n      [newElements[currentIndex], newElements[currentIndex + 1]] = \n      [newElements[currentIndex + 1], newElements[currentIndex]];\n    } else if (direction === 'backward' && currentIndex > 0) {\n      [newElements[currentIndex], newElements[currentIndex - 1]] = \n      [newElements[currentIndex - 1], newElements[currentIndex]];\n    }\n    \n    setElements(newElements);\n    addToHistory(newElements);\n  };\n\n  const alignElements = (alignment: 'left' | 'center' | 'right' | 'top' | 'middle' | 'bottom') => {\n    if (selectedId) {\n      const selectedElement = elements.find(el => el.id === selectedId);\n      if (!selectedElement) return;\n\n      const newElements = elements.map(el => {\n        if (el.id === selectedId) {\n          const newEl = { ...el };\n          switch (alignment) {\n            case 'left':\n              newEl.x = 50;\n              break;\n            case 'center':\n              newEl.x = 200;\n              break;\n            case 'right':\n              newEl.x = 350;\n              break;\n            case 'top':\n              newEl.y = 50;\n              break;\n            case 'middle':\n              newEl.y = 121;\n              break;\n            case 'bottom':\n              newEl.y = 192;\n              break;\n          }\n          return newEl;\n        }\n        return el;\n      });\n      \n      setElements(newElements);\n      addToHistory(newElements);\n    }\n  };\n\n  const handleTextClick = (id: string) => {\n    setSelectedId(id);\n    const element = elements.find((el) => el.id === id);\n    if (element && element.type === 'text') {\n      setEditingText(element.text);\n    }\n  };\n\n  const handleTextEdit = (id: string, newText: string) => {\n    const newElements = elements.map((el) =>\n      el.id === id && el.type === 'text' ? { ...el, text: newText } : el\n    );\n    setElements(newElements);\n    addToHistory(newElements);\n    setEditingText(\"\");\n  };\n\n  const handleElementUpdate = (id: string, updates: Partial<DesignElement>) => {\n    const newElements = elements.map((el) =>\n      el.id === id ? { ...el, ...updates } : el\n    );\n    setElements(newElements);\n    addToHistory(newElements);\n  };\n\n  const handleAddText = () => {\n    const newText: TextElement = {\n      id: `text-${Date.now()}`,\n      type: \"text\",\n      text: \"新しいテキスト\",\n      x: 100,\n      y: 100,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      fill: textColor,\n      width: 200,\n      align: \"left\",\n      draggable: true,\n    };\n    const newElements = [...elements, newText];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newText.id);\n  };\n\n  const handleAddShape = (shapeType: 'rect' | 'circle' | 'line') => {\n    let newShape: ShapeElement;\n    \n    switch (shapeType) {\n      case 'rect':\n        newShape = {\n          id: `rect-${Date.now()}`,\n          type: 'rect',\n          x: 100,\n          y: 100,\n          width: 100,\n          height: 60,\n          fill: textColor,\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true,\n        };\n        break;\n      case 'circle':\n        newShape = {\n          id: `circle-${Date.now()}`,\n          type: 'circle',\n          x: 150,\n          y: 150,\n          radius: 30,\n          fill: textColor,\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true,\n        };\n        break;\n      case 'line':\n        newShape = {\n          id: `line-${Date.now()}`,\n          type: 'line',\n          x: 100,\n          y: 100,\n          points: [0, 0, 100, 0],\n          fill: '#000000',\n          stroke: '#000000',\n          strokeWidth: 2,\n          draggable: true,\n        };\n        break;\n    }\n    \n    const newElements = [...elements, newShape];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newShape.id);\n  };\n\n  const handleAddIcon = (iconType: string) => {\n    const newIcon: IconElement = {\n      id: `icon-${Date.now()}`,\n      type: 'icon',\n      iconType,\n      x: 100,\n      y: 100,\n      size: 24,\n      fill: textColor,\n      draggable: true,\n    };\n    \n    const newElements = [...elements, newIcon];\n    setElements(newElements);\n    addToHistory(newElements);\n    setSelectedId(newIcon.id);\n  };\n\n  const handleDeleteElement = () => {\n    if (selectedId) {\n      const newElements = elements.filter((el) => el.id !== selectedId);\n      setElements(newElements);\n      addToHistory(newElements);\n      setSelectedId(null);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      console.log(\"名刺デザインを保存しました\");\n      console.log(\"現在の要素:\", elements);\n      navigate(\"/business-card/edit\");\n    } catch (error) {\n      console.error(\"名刺デザインの保存に失敗しました:\", error);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(\"/business-card/edit\");\n  };\n\n  const handleExportImage = () => {\n    if (stageRef.current) {\n      const dataURL = stageRef.current.toDataURL();\n      const link = document.createElement(\"a\");\n      link.download = `business-card-${currentSide}.png`;\n      link.href = dataURL;\n      link.click();\n    }\n  };\n\n  const renderElement = (element: DesignElement) => {\n    switch (element.type) {\n      case 'text':\n        return (\n          <Text\n            key={element.id}\n            id={element.id}\n            text={element.text}\n            x={element.x}\n            y={element.y}\n            fontSize={element.fontSize}\n            fontFamily={element.fontFamily}\n            fill={element.fill}\n            align={element.align as any}\n            width={element.width}\n            draggable={element.draggable}\n            onClick={() => handleTextClick(element.id)}\n            onTap={() => handleTextClick(element.id)}\n            onDragEnd={(e) => {\n              handleElementUpdate(element.id, {\n                x: e.target.x(),\n                y: e.target.y(),\n              });\n            }}\n          />\n        );\n      case 'rect':\n        return (\n          <Rect\n            key={element.id}\n            id={element.id}\n            x={element.x}\n            y={element.y}\n            width={element.width}\n            height={element.height}\n            fill={element.fill}\n            stroke={element.stroke}\n            strokeWidth={element.strokeWidth}\n            draggable={element.draggable}\n            onClick={() => setSelectedId(element.id)}\n            onTap={() => setSelectedId(element.id)}\n            onDragEnd={(e) => {\n              handleElementUpdate(element.id, {\n                x: e.target.x(),\n                y: e.target.y(),\n              });\n            }}\n          />\n        );\n      case 'circle':\n        return (\n          <Circle\n            key={element.id}\n            id={element.id}\n            x={element.x}\n            y={element.y}\n            radius={element.radius}\n            fill={element.fill}\n            stroke={element.stroke}\n            strokeWidth={element.strokeWidth}\n            draggable={element.draggable}\n            onClick={() => setSelectedId(element.id)}\n            onTap={() => setSelectedId(element.id)}\n            onDragEnd={(e) => {\n              handleElementUpdate(element.id, {\n                x: e.target.x(),\n                y: e.target.y(),\n              });\n            }}\n          />\n        );\n      case 'line':\n        return (\n          <Line\n            key={element.id}\n            id={element.id}\n            x={element.x}\n            y={element.y}\n            points={element.points}\n            fill={element.fill}\n            stroke={element.stroke}\n            strokeWidth={element.strokeWidth}\n            draggable={element.draggable}\n            onClick={() => setSelectedId(element.id)}\n            onTap={() => setSelectedId(element.id)}\n            onDragEnd={(e) => {\n              handleElementUpdate(element.id, {\n                x: e.target.x(),\n                y: e.target.y(),\n              });\n            }}\n          />\n        );\n      case 'icon':\n        return (\n          <Group\n            key={element.id}\n            id={element.id}\n            x={element.x}\n            y={element.y}\n            draggable={element.draggable}\n            onClick={() => setSelectedId(element.id)}\n            onTap={() => setSelectedId(element.id)}\n            onDragEnd={(e) => {\n              handleElementUpdate(element.id, {\n                x: e.target.x(),\n                y: e.target.y(),\n              });\n            }}\n          >\n            {element.iconType === 'phone' && (\n              <Rect x={0} y={0} width={element.size} height={element.size * 1.6} fill={element.fill} />\n            )}\n            {element.iconType === 'email' && (\n              <Rect x={0} y={0} width={element.size} height={element.size * 0.8} fill={element.fill} />\n            )}\n            {element.iconType === 'website' && (\n              <Circle x={element.size/2} y={element.size/2} radius={element.size/2} fill={element.fill} />\n            )}\n          </Group>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"loading\">読み込み中...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"business-card-design\">\n        <div className=\"container\">\n          <div className=\"error\">プロフィールが見つかりません</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"business-card-design\">\n      <div className=\"container\">\n        <div className=\"design-header\">\n          <h1>名刺デザイン</h1>\n          <p>名刺の表面・裏面をデザインできます</p>\n        </div>\n\n        <div className=\"design-container\">\n          {/* サイド選択タブ */}\n          <div className=\"side-tabs\">\n            <button\n              className={`side-tab ${currentSide === \"front\" ? \"active\" : \"\"}`}\n              onClick={() => setCurrentSide(\"front\")}\n            >\n              表面\n            </button>\n            <button\n              className={`side-tab ${currentSide === \"back\" ? \"active\" : \"\"}`}\n              onClick={() => setCurrentSide(\"back\")}\n            >\n              裏面\n            </button>\n          </div>\n\n          {/* ツールバー */}\n          <div className=\"design-toolbar\">\n            <div className=\"toolbar-group\">\n              <button\n                className={`toolbar-btn ${currentTool === 'select' ? 'active' : ''}`}\n                onClick={() => setCurrentTool('select')}\n                title=\"選択\"\n              >\n                ✋\n              </button>\n              <button\n                className={`toolbar-btn ${currentTool === 'text' ? 'active' : ''}`}\n                onClick={() => setCurrentTool('text')}\n                title=\"テキスト\"\n              >\n                T\n              </button>\n              <button\n                className={`toolbar-btn ${currentTool === 'rect' ? 'active' : ''}`}\n                onClick={() => setCurrentTool('rect')}\n                title=\"四角形\"\n              >\n                □\n              </button>\n              <button\n                className={`toolbar-btn ${currentTool === 'circle' ? 'active' : ''}`}\n                onClick={() => setCurrentTool('circle')}\n                title=\"円\"\n              >\n                ○\n              </button>\n              <button\n                className={`toolbar-btn ${currentTool === 'line' ? 'active' : ''}`}\n                onClick={() => setCurrentTool('line')}\n                title=\"線\"\n              >\n                /\n              </button>\n            </div>\n\n            <div className=\"toolbar-group\">\n              <button\n                className=\"toolbar-btn\"\n                onClick={undo}\n                disabled={historyIndex <= 0}\n                title=\"元に戻す\"\n              >\n                ↶\n              </button>\n              <button\n                className=\"toolbar-btn\"\n                onClick={redo}\n                disabled={historyIndex >= history.length - 1}\n                title=\"やり直し\"\n              >\n                ↷\n              </button>\n            </div>\n\n            <div className=\"toolbar-group\">\n              <button\n                className=\"toolbar-btn\"\n                onClick={() => selectedId && moveElement(selectedId, 'forward')}\n                disabled={!selectedId}\n                title=\"前面へ\"\n              >\n                ⬆\n              </button>\n              <button\n                className=\"toolbar-btn\"\n                onClick={() => selectedId && moveElement(selectedId, 'backward')}\n                disabled={!selectedId}\n                title=\"背面へ\"\n              >\n                ⬇\n              </button>\n            </div>\n\n            <div className=\"toolbar-group\">\n              <button\n                className={`toolbar-btn ${showGrid ? 'active' : ''}`}\n                onClick={() => setShowGrid(!showGrid)}\n                title=\"グリッド\"\n              >\n                #\n              </button>\n              <button\n                className={`toolbar-btn ${showGuidelines ? 'active' : ''}`}\n                onClick={() => setShowGuidelines(!showGuidelines)}\n                title=\"ガイドライン\"\n              >\n                ⊞\n              </button>\n            </div>\n\n            <div className=\"toolbar-group\">\n              <button\n                className=\"toolbar-btn\"\n                onClick={() => alignElements('left')}\n                disabled={!selectedId}\n                title=\"左揃え\"\n              >\n                ⬅\n              </button>\n              <button\n                className=\"toolbar-btn\"\n                onClick={() => alignElements('center')}\n                disabled={!selectedId}\n                title=\"中央揃え\"\n              >\n                ↔\n              </button>\n              <button\n                className=\"toolbar-btn\"\n                onClick={() => alignElements('right')}\n                disabled={!selectedId}\n                title=\"右揃え\"\n              >\n                ➡\n              </button>\n            </div>\n          </div>\n\n          <div className=\"design-workspace\">\n            {/* デザインエディター */}\n            <div className=\"editor-container\">\n              <div className=\"editor-wrapper\">\n                <Stage\n                  ref={stageRef}\n                  width={400}\n                  height={242}\n                  onMouseDown={(e) => {\n                    if (e.target === e.target.getStage()) {\n                      setSelectedId(null);\n                    }\n                  }}\n                >\n                  <Layer>\n                    {/* 背景 */}\n                    <Rect\n                      x={0}\n                      y={0}\n                      width={400}\n                      height={242}\n                      fill=\"#ffffff\"\n                      stroke=\"#e5e7eb\"\n                      strokeWidth={1}\n                    />\n\n                    {/* グリッド */}\n                    {showGrid && (\n                      <>\n                        {Array.from({ length: 20 }, (_, i) => (\n                          <Line\n                            key={`grid-v-${i}`}\n                            x={i * 20}\n                            y={0}\n                            points={[0, 0, 0, 242]}\n                            stroke=\"#f0f0f0\"\n                            strokeWidth={1}\n                          />\n                        ))}\n                        {Array.from({ length: 13 }, (_, i) => (\n                          <Line\n                            key={`grid-h-${i}`}\n                            x={0}\n                            y={i * 20}\n                            points={[0, 0, 400, 0]}\n                            stroke=\"#f0f0f0\"\n                            strokeWidth={1}\n                          />\n                        ))}\n                      </>\n                    )}\n\n                    {/* ガイドライン */}\n                    {showGuidelines && (\n                      <>\n                        <Line x={200} y={0} points={[0, 0, 0, 242]} stroke=\"#3b82f6\" strokeWidth={1} dash={[5, 5]} />\n                        <Line x={0} y={121} points={[0, 0, 400, 0]} stroke=\"#3b82f6\" strokeWidth={1} dash={[5, 5]} />\n                      </>\n                    )}\n\n                    {/* デザイン要素 */}\n                    {elements.map(renderElement)}\n\n                    {/* Transformer */}\n                    <Transformer ref={transformerRef} />\n                  </Layer>\n                </Stage>\n              </div>\n            </div>\n\n            {/* デザインツール */}\n            <div className=\"design-tools\">\n              <div className=\"tool-section\">\n                <h3>ツール</h3>\n                <div className=\"tool-buttons\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={() => handleAddText()}\n                  >\n                    テキスト追加\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={() => handleAddShape('rect')}\n                  >\n                    四角形追加\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={() => handleAddShape('circle')}\n                  >\n                    円追加\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={() => handleAddShape('line')}\n                  >\n                    線追加\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"tool-section\">\n                <h3>アイコン</h3>\n                <div className=\"icon-buttons\">\n                  <button\n                    type=\"button\"\n                    className=\"icon-btn\"\n                    onClick={() => handleAddIcon('phone')}\n                    title=\"電話\"\n                  >\n                    📞\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"icon-btn\"\n                    onClick={() => handleAddIcon('email')}\n                    title=\"メール\"\n                  >\n                    ✉️\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"icon-btn\"\n                    onClick={() => handleAddIcon('website')}\n                    title=\"ウェブサイト\"\n                  >\n                    🌐\n                  </button>\n                </div>\n              </div>\n\n              {selectedId && (\n                <>\n                  <div className=\"tool-section\">\n                    <h3>要素編集</h3>\n                    {elements.find(el => el.id === selectedId)?.type === 'text' && (\n                      <div className=\"text-editor\">\n                        <input\n                          type=\"text\"\n                          value={editingText}\n                          onChange={(e) => setEditingText(e.target.value)}\n                          onBlur={() => handleTextEdit(selectedId, editingText)}\n                          onKeyPress={(e) => {\n                            if (e.key === \"Enter\") {\n                              handleTextEdit(selectedId, editingText);\n                            }\n                          }}\n                          placeholder=\"テキストを入力\"\n                          className=\"text-input\"\n                        />\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"tool-section\">\n                    <h3>スタイル設定</h3>\n                    <div className=\"style-controls\">\n                      <label>\n                        フォントサイズ:\n                        <input\n                          type=\"range\"\n                          min=\"8\"\n                          max=\"48\"\n                          value={fontSize}\n                          onChange={(e) => {\n                            setFontSize(Number(e.target.value));\n                            if (selectedId) {\n                              const element = elements.find(el => el.id === selectedId);\n                              if (element && element.type === 'text') {\n                                handleElementUpdate(selectedId, {\n                                  fontSize: Number(e.target.value),\n                                });\n                              }\n                            }\n                          }}\n                          className=\"font-size-slider\"\n                        />\n                        <span>{fontSize}px</span>\n                      </label>\n\n                      <label>\n                        フォント:\n                        <select\n                          value={fontFamily}\n                          onChange={(e) => {\n                            setFontFamily(e.target.value);\n                            if (selectedId) {\n                              const element = elements.find(el => el.id === selectedId);\n                              if (element && element.type === 'text') {\n                                handleElementUpdate(selectedId, {\n                                  fontFamily: e.target.value,\n                                });\n                              }\n                            }\n                          }}\n                          className=\"font-family-select\"\n                        >\n                          <option value=\"Arial\">Arial</option>\n                          <option value=\"Helvetica\">Helvetica</option>\n                          <option value=\"Times New Roman\">Times New Roman</option>\n                          <option value=\"Georgia\">Georgia</option>\n                          <option value=\"Verdana\">Verdana</option>\n                        </select>\n                      </label>\n\n                      <label>\n                        色:\n                        <input\n                          type=\"color\"\n                          value={textColor}\n                          onChange={(e) => {\n                            setTextColor(e.target.value);\n                            if (selectedId) {\n                              handleElementUpdate(selectedId, {\n                                fill: e.target.value,\n                              });\n                            }\n                          }}\n                          className=\"color-picker\"\n                        />\n                      </label>\n                    </div>\n                  </div>\n\n                  <div className=\"tool-section\">\n                    <h3>アクション</h3>\n                    <div className=\"action-buttons\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-danger\"\n                        onClick={handleDeleteElement}\n                      >\n                        削除\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              <div className=\"tool-section\">\n                <h3>エクスポート</h3>\n                <div className=\"action-buttons\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-success\"\n                    onClick={handleExportImage}\n                  >\n                    画像として保存\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* アクションボタン */}\n          <div className=\"design-actions\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={handleCancel}\n            >\n              キャンセル\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSave}\n            >\n              デザインを保存\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BusinessCardDesign;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}